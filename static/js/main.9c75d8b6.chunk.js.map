{"version":3,"sources":["styles/Login.module.css","helpers.ts","routes.ts","state.ts","components/Shared/Table.tsx","components/TrackRequest.tsx","components/Shared/Requests/Requests.tsx","components/Shared/Requests/Archived.tsx","constants.ts","components/Shared/Requests/Form.tsx","components/Shared/Requests/Inactive.tsx","components/Shared/Requests/List.tsx","components/Shared/Quill.tsx","components/Shared/Requests/View.tsx","components/Shared/Requests/index.tsx","components/Admin/CMS/Entry.tsx","components/Admin/CMS/FAQ.tsx","components/Admin/CMS/index.tsx","components/Admin/Contacts/List.tsx","components/Admin/Contacts/View.tsx","components/Admin/Contacts/index.tsx","components/Admin/DocumentTypes/Form.tsx","components/Admin/DocumentTypes/List.tsx","components/Admin/DocumentTypes/View.tsx","components/Admin/DocumentTypes/index.tsx","components/Logs.tsx","components/Admin/Stats.tsx","components/Admin/Users/Form.tsx","components/Admin/Users/List.tsx","components/Admin/Users/View.tsx","components/Admin/Users/index.tsx","components/Admin/index.tsx","components/Admin/Sidebar.tsx","components/Cashier/index.tsx","components/Cashier/Sidebar.tsx","components/Profile.tsx","components/Shared/Footer.tsx","components/Shared/Header.tsx","components/Student/Request/Form.tsx","components/Student/Request/List.tsx","components/Student/Request/View.tsx","components/Student/Request/index.tsx","components/Student/index.tsx","components/Student/Sidebar.tsx","components/Dashboard.tsx","components/Landing/AboutUs.tsx","components/Landing/Carousel.tsx","components/Landing/ContactUs.tsx","components/Landing/Description.tsx","components/Landing/FAQ/Item.tsx","components/Landing/FAQs.tsx","components/Landing/Header.tsx","components/Landing/Nav.tsx","components/Landing/index.tsx","components/Login.tsx","components/Register.tsx","components/Landing/Track.tsx","components/ForgotPassword.tsx","components/ResetPassword.tsx","App.tsx","reportWebVitals.ts","shims.ts","index.tsx"],"names":["module","exports","outIf","condition","output","arguments","length","undefined","ucfirst","string","array","split","toUpperCase","join","ucwords","map","word","handleError","error","response","data","message","status","toastr","Object","values","errors","forEach","createTableColumns","keys","key","sentencify","words","_","snakeCase","except","copy","exceptMany","item","orEqual","includes","dayjs","extend","relativeTime","Intl","NumberFormat","style","currency","routes","ROOT","LOGIN","REGISTER","DASHBOARD","DOCUMENT_TYPES","USERS","REQUESTS","ARCHIVED","INACTIVE","PROFILE","DOWNLOADABLES","CMS","CONTACTS","TRACK_REQUEST","FORGOT_PASSWORD","RESET_PASSWORD","State","constructor","storage","listeners","this","window","localStorage","getAll","setAll","clear","getItem","parsed","JSON","parse","setItem","stringify","has","get","set","value","dispatch","remove","callback","listen","push","unlisten","index","splice","Table","_ref","title","onViewClick","onEditClick","onDeleteConfirm","onRefreshClick","processing","onAddClick","withAction","pagination","border","dontShowView","dontShowEdit","dontShowDelete","disableAddButton","id","state","kebabCase","toLowerCase","total","page","interval","setInterval","useState","Math","ceil","current","setCurrent","pageKey","formInterval","setFormInterval","options","setOptions","intervalKey","perPage","useEffect","offset","paginatedData","count","columns","column","name","selector","row","sortable","minWidth","_jsx","className","children","_jsxs","concat","onClick","e","preventDefault","onSubmit","htmlFor","type","placeholder","onChange","Number","target","overflowY","Datatable","action","theme","tabIndex","role","pluralize","singular","modal","$","on","TrackRequest","props","setProcessing","setID","history","useHistory","user","async","axios","request","find","request_id","user_id","info","console","log","toJSON","submit","disabled","trim","Requests","requests","setRequests","match","useRouteMatch","types","setTypes","filter","setFilter","raws","setRaws","docTypes","setDocTypes","typeFilter","setTypeFilter","path","readOnly","fetchRequests","raw","filterToRole","filtered","expired","continue","put","success","unexpire","approved","renderAcknowledged","r","for","isAcknowledgable","acknowledged","currentTarget","setAttribute","classList","add","textContent","dates","Array","from","acknowledged_dates","date","Date","fetchTypes","_Fragment","parseNumbers","items","content","_request$documentType","documentType","_request$documentType2","iframe","css","origin","contentWindow","document","open","write","Promise","all","url","timeout","styles","querySelectorAll","innerHTML","close","focus","setTimeout","print","fragments","_request$documentType3","_request$documentType4","created_at","format","updated_at","evaluation","rejected","_ref2","_ref3","delete","deleteRequest","Archived","statuses","Form","_data$documentType","_data$documentType2","_data$user","_data$user2","setData","document_type_id","file_id","file","setFile","fileRef","createRef","params","goBack","fetchRequest","statusables","getUserStatusables","payload","FormData","append","post","_fileRef$current","click","files","ref","Inactive","List","Quill","ReactQuill","View","_request$tasks","_request$user","_request$files","setRequest","updating","setUpdating","currentStatus","setCurrentStatus","smsMessage","setSmsMessage","emailMessage","setEmailMessage","rejectSmsMessage","setRejectSmsMessage","rejectEmailMessage","setRejectEmailMessage","releaseSms","setReleaseSms","releaseEmail","setReleaseEmail","releaseRef","requestID","getNextStatus","location","markTask","task","done","deleting","next","Error","findDate","isTasksDone","tasks","href","pathname","isForwardable","card","String","html","exportToPDF","student_id_number","logs","_file$file","_file$file2","level","_findDate","makeStatuses","cols","rows","assignedRole","req","sms_message","email_message","_method","forward","approve","reject","Switch","Route","exact","component","Entry","cms","setValue","mode","setMode","uploaded","setUploaded","isFile","reader","FileReader","onload","event","result","flex","src","alt","borderTopLeftRadius","borderTopRightRadius","fromNow","readAsDataURL","FAQ","faq","defaultMode","question","setQuestion","answer","setAnswer","_cms$find","setCMS","faqs","defaultValue","c","fetchCMS","saveCMS","entity","new","findIndex","saveFAQ","position","overflow","width","paddingTop","inset","height","contacts","setContacts","fetchContacts","contact","substr","deleteContact","setContact","contactID","fetchContact","email","Contacts","_data$files","setFiles","requirements","expiry_days","handleChange","entries","File","documentTypeID","fetchDocumentType","requirement","rel","_data$files2","confirm","documentTypes","setDocumentTypes","fetchDocumentTypes","work_processing_days","deleteDocumentType","_documentType$require","setDocumentType","DocumentTypes","Logs","setLogs","fetchLogs","reverse","_log$user","_log$loggable","_log$loggable$documen","_log$loggable2","_log$loggable2$user","loggable","Stats","stats","setStats","users","approved_requests","pending_requests","last_log","fetchStats","Link","to","password","phone","userID","fetchUser","setUsers","fetchUsers","_user$profilePicture","profilePicture","deleteUser","setUser","profileURL","Users","Admin","AdminSidebar","links","icon","overflowX","link","Cashier","CashierSidebar","Profile","_data$profilePicture","setProfileURL","changingProfile","_data$profilePicture2","reset","removeClass","accept","Footer","bottom","Header","expiring","setExpiring","almostExpiring","setAlmostExpiring","expiringHandle","fetchExpiring","almostExpiringHandle","fetchAlmostExpiring","clearInterval","_request$user2","logout","_types$find","copies","reason","refs","setRefs","createTask","_files$index","_ref$current","feedback","setFeedback","sendFeedback","Applicant","ApplicantSidebar","Dashboard","AboutUs","Carousel","random","toString","substring","ContactUs","Description","Item","show","setShow","textAlign","FAQs","chunks","last","color","isPreview","URLSearchParams","search","backgroundImage","backgroundPosition","backgroundSize","minHeight","maxHeight","zIndex","display","alignItems","justifyContent","Nav","logged","Landing","loaded","setLoaded","attr","Login","body","textDecoration","now","block","isValid","isAfter","token","attempts","Register","_setData","password_confirmation","callable","test","year","getUTCFullYear","InputMask","mask","Track","ForgotPassword","ResetPassword","useParams","App","verifyUser","Router","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","prototype","_this","getOwnPropertyNames","stack","i","parts","whole","decimals","defaults","baseURL","process","headers","common","ReactDOM","render","React","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9c75d8b6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Login_card__1aHd1\",\"body\":\"Login_body__2QrV6\"};","import toastr from 'toastr';\nimport _ from 'lodash';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\ndayjs.extend(relativeTime);\n\nexport function outIf<T>(condition: boolean, output: T, defaultValue = ''): T {\n\treturn condition ? output : ((defaultValue as unknown) as T);\n}\n\nexport function ucfirst(string: string) {\n\tconst array = string.split('');\n\tarray[0] = array[0].toUpperCase();\n\treturn array.join('');\n}\n\nexport function ucwords(string: string) {\n\treturn string\n\t\t.split(' ')\n\t\t.map((word) => (word === 'Id' ? 'ID' : ucfirst(word)))\n\t\t.join(' ');\n}\n\nexport function handleError(error: any) {\n\tif (error.response) {\n\t\tconst response = error.response;\n\t\tif (response.data.message && response.status !== 422) {\n\t\t\ttoastr.error(response.data.message);\n\t\t} else if (response.status === 422) {\n\t\t\tObject.values(response.data.errors).forEach((errors: any) => errors.forEach((error: any) => toastr.error(error)));\n\t\t} else if (error.message) {\n\t\t\ttoastr.error(error.message);\n\t\t} else {\n\t\t\ttoastr.error('Something went wrong, please try again later.', 'Oops!');\n\t\t}\n\t} else if (error.message) {\n\t\ttoastr.error(error.message);\n\t}\n}\n\nexport function groupBy<T, K extends keyof T>(data: Array<T>, key: K) {\n\tconst temp: { [key: string]: Array<T> } = {};\n\n\tdata.forEach((item) => {\n\t\tconst property: any = item[key];\n\t\tif (!(property in temp)) {\n\t\t\ttemp[property] = [];\n\t\t}\n\t\ttemp[property].push(item);\n\t});\n\treturn Object.keys(temp).map((key) => temp[key]);\n}\n\nexport function createTableColumns(data: Array<any>) {\n\tif (data.length === 0) {\n\t\treturn [];\n\t}\n\n\treturn Object.keys(data[0]).map((key) => {\n\t\tswitch (key) {\n\t\t\tcase 'id':\n\t\t\t\treturn 'ID';\n\t\t\tcase 'createdAt':\n\t\t\t\treturn 'Date Requested';\n\t\t\tcase 'updatedAt':\n\t\t\t\treturn 'Date Modified';\n\t\t\tcase 'created_at':\n\t\t\t\treturn 'Date Requested';\n\t\t\tcase 'updated_at':\n\t\t\t\treturn 'Date Modified';\n\t\t\tdefault:\n\t\t\t\treturn sentencify(key);\n\t\t}\n\t});\n}\n\nexport function sentencify(words: string) {\n\treturn ucwords(_.snakeCase(words).split('_').join(' '));\n}\n\nexport function parseDate(date: string) {\n\treturn dayjs(date).fromNow();\n}\n\nexport function makeMask<T extends Function>(callable: T, callback: Function) {\n\treturn (((data: any) => {\n\t\treturn callable(callback(data));\n\t}) as unknown) as T;\n}\n\nexport function except<T, K extends keyof T>(data: T, keys: Array<K>) {\n\tconst copy = { ...data };\n\tfor (const key of keys) {\n\t\tif (key in copy) {\n\t\t\tdelete copy[key];\n\t\t}\n\t}\n\treturn copy;\n}\n\nexport function exceptMany<T, K extends keyof T>(data: Array<T>, keys: Array<K>) {\n\treturn [...data].map((item) => except(item, keys));\n}\n\nexport function orEqual<T>(data: T, keys: Array<T>) {\n\treturn keys.includes(data);\n}\n\nexport function only<T, K extends keyof T>(data: T, keys: Array<K>) {\n\tconst result = {} as T;\n\t(result as any)['id'] = (data as any)['id'];\n\tfor (const key of keys) {\n\t\tresult[key] = data[key];\n\t}\n\treturn result;\n}\n\nexport function onlyMany<T, K extends keyof T>(data: Array<T>, keys: Array<K>) {\n\treturn [...data].map((item) => only(item, keys));\n}\n\nconst formatter = new Intl.NumberFormat('en-PH', {\n\tstyle: 'currency',\n\tcurrency: 'PHP',\n});\n\nexport function formatCurrency(value: number) {\n\treturn formatter.format(value).replace(/\\D00(?=\\D*$)/, '');\n}\n","export const routes = {\n\tROOT: '/',\n\tLOGIN: '/login',\n\tREGISTER: '/register',\n\tDASHBOARD: '/dashboard',\n\tDOCUMENT_TYPES: '/document-types',\n\tUSERS: '/users',\n\tREQUESTS: {\n\t\tROOT: '/requests',\n\t\tARCHIVED: '/archived',\n\t\tINACTIVE: '/inactive',\n\t},\n\tPROFILE: '/profile',\n\tDOWNLOADABLES: '/downloadables',\n\tCMS: '/content-management',\n\tCONTACTS: '/contacts',\n\tTRACK_REQUEST: '/track-request',\n\tFORGOT_PASSWORD: '/forgot-password',\n\tRESET_PASSWORD: '/reset-password',\n};\n","export type StorageItem = {\n\t[key: string]: any;\n};\n\nexport type ChangeEvent<T> = (value: T, thisArg?: State) => void;\n\nexport type Listeners = {\n\t[key: string]: Array<ChangeEvent<any>>;\n};\n\nexport class State {\n\tstorage: Storage;\n\tkey = 'pbbdtm-state-key';\n\tlisteners: Listeners = {};\n\n\tconstructor(key?: string) {\n\t\tthis.storage = window.localStorage;\n\t\tif (key) {\n\t\t\tthis.key = key;\n\t\t}\n\t\tconst data = this.getAll();\n\t\tthis.setAll(data);\n\t}\n\n\tclear() {\n\t\treturn this.setAll({});\n\t}\n\n\tgetAll(): StorageItem {\n\t\ttry {\n\t\t\tconst data = this.storage.getItem(this.key);\n\t\t\tif (!data) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst parsed = JSON.parse(data);\n\t\t\tif (typeof parsed !== 'object') {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\treturn parsed;\n\t\t} catch (error) {\n\t\t\treturn {};\n\t\t}\n\t}\n\n\tsetAll(data: StorageItem) {\n\t\tthis.storage.setItem(this.key, JSON.stringify(data));\n\t\treturn this;\n\t}\n\n\thas(key: string) {\n\t\treturn key in this.getAll();\n\t}\n\n\tget<T = any>(key: string): T {\n\t\treturn this.getAll()[key];\n\t}\n\n\tset(key: string, value: any) {\n\t\tconst data = this.getAll();\n\t\tdata[key] = value;\n\t\tthis.dispatch(key, value);\n\t\treturn this.setAll(data);\n\t}\n\n\tremove(key: string) {\n\t\tif (this.has(key)) {\n\t\t\tconst data = this.getAll();\n\t\t\tdelete data[key];\n\t\t\tthis.setAll(data);\n\t\t}\n\t\treturn this;\n\t}\n\n\tdispatch<T>(key: string, value: T) {\n\t\tif (key in this.listeners) {\n\t\t\tthis.listeners[key].forEach((callback) => callback(value, this));\n\t\t}\n\t\treturn this;\n\t}\n\n\tlisten<T>(key: string, callback: ChangeEvent<T>) {\n\t\tif (!(key in this.listeners)) {\n\t\t\tthis.listeners[key] = [];\n\t\t}\n\t\treturn this.listeners[key].push(callback) - 1;\n\t}\n\n\tunlisten(key: string, index: number) {\n\t\tif (!(key in this.listeners)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.listeners[key].splice(index, 1);\n\t}\n}\n\nexport default new State();\n","import React, { useEffect, useState } from 'react';\nimport pluralize from 'pluralize';\nimport _ from 'lodash';\nimport { outIf, sentencify } from '../../helpers';\nimport { State } from '../../state';\nimport Datatable from 'react-data-table-component';\n\ntype Props<T> = {\n\tid?: string;\n\ttitle: string;\n\ttheme?: 'light' | 'dark';\n\tcolumns?: Array<string>;\n\tdata: Array<T>;\n\tonViewClick: (data: T) => void;\n\tonEditClick: (data: T) => void;\n\tonRefreshClick: () => void;\n\tonAddClick: () => void;\n\tonDeleteConfirm: (data: T) => void;\n\tprocessing: boolean;\n\twithAction: boolean;\n\tpagination: boolean;\n\tborder?: boolean;\n\tdontShowDelete?: boolean;\n\tdontShowEdit?: boolean;\n\tdontShowView?: boolean;\n\tdisableAddButton?: boolean;\n};\n\nexport function Table<T>({\n\ttitle,\n\tdata,\n\tonViewClick,\n\tonEditClick,\n\tonDeleteConfirm,\n\tonRefreshClick,\n\tprocessing,\n\tonAddClick,\n\twithAction,\n\tpagination,\n\tborder,\n\tdontShowView,\n\tdontShowEdit,\n\tdontShowDelete,\n\tdisableAddButton,\n\tid,\n}: Props<T>) {\n\tconst state = new State(_.kebabCase(title.toLowerCase() + '-table'));\n\n\tconst total = data.length;\n\tconst page = state.has('page') ? state.get('page') : 1;\n\n\tconst [interval, setInterval] = useState(state.has('perPage') ? state.get<number>('perPage') : 10);\n\tif (page > Math.ceil(total / interval) && state.has('page')) {\n\t\tstate.set('page', 1);\n\t}\n\tconst [current, setCurrent] = useState(page <= Math.ceil(total / interval) ? page : 1);\n\tconst pageKey = state.listen<number>('page', (page) => setCurrent(page));\n\tconst [formInterval, setFormInterval] = useState(interval);\n\tconst [options, setOptions] = useState(false);\n\n\tconst intervalKey = state.listen<number>('perPage', (perPage) => {\n\t\tif (current > Math.ceil(total / perPage)) {\n\t\t\tstate.set('page', 1);\n\t\t}\n\t\tsetInterval(perPage);\n\t});\n\n\tuseEffect(\n\t\t() => () => {\n\t\t\tstate.unlisten('page', pageKey);\n\t\t\tstate.unlisten('perPage', intervalKey);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\t[]\n\t);\n\n\tconst offset = (current - 1) * interval;\n\n\tconst paginatedData: Array<any> = [];\n\n\tfor (let count = offset; count < offset + interval; count++) {\n\t\tif (typeof data[count] !== 'undefined') {\n\t\t\tpaginatedData.push(data[count]);\n\t\t}\n\t}\n\n\tconst columns =\n\t\tdata.length > 0\n\t\t\t? Object.keys(data[0]).map((column) => ({\n\t\t\t\t\tname: sentencify(column),\n\t\t\t\t\tselector: ((row: any) => row[column]) as any,\n\t\t\t\t\tsortable: true,\n\t\t\t\t\tminWidth: '200px',\n\t\t\t  }))\n\t\t\t: [];\n\n\tif (withAction) {\n\t\tcolumns.push({\n\t\t\tname: 'Actions',\n\t\t\tselector: (row: any) => row['action'],\n\t\t\tsortable: true,\n\t\t\tminWidth: '300px',\n\t\t});\n\t}\n\n\treturn (\n\t\t<div className='row' id={id}>\n\t\t\t<div className='col-12'>\n\t\t\t\t<div className={`card ${border ? 'border' : ''} w-100`}>\n\t\t\t\t\t<div className='card-header border-0'>\n\t\t\t\t\t\t<div className='d-flex'>\n\t\t\t\t\t\t\t<h3 className='mb-0 align-self-center'>{title}</h3>\n\t\t\t\t\t\t\t<div className='ml-auto align-self-center d-flex'>\n\t\t\t\t\t\t\t\t{withAction && (disableAddButton === undefined || disableAddButton === false) ? (\n\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\tclassName={`fas fa-plus clickable d-block align-self-center m-1 text-warning`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => onAddClick()}></i>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t{withAction ? (\n\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\tclassName={`fas fa-redo-alt clickable d-block align-self-center m-1 text-info ${\n\t\t\t\t\t\t\t\t\t\t\tprocessing ? 'fa-spin' : ''\n\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => onRefreshClick()}></i>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{pagination ? (\n\t\t\t\t\t\t\t<div className='mt-4'>\n\t\t\t\t\t\t\t\t<div className='py-2'>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-${!options ? 'primary' : 'danger'} btn-sm d-none`}\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\tsetOptions(!options);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t{!options ? 'Show' : 'Hide'} Options\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{options ? (\n\t\t\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\t\t\tclassName='form-inline d-none'\n\t\t\t\t\t\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\tstate.set('perPage', formInterval >= 1 ? formInterval : 10);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<div className='form-group p-1'>\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='perPage' className='mr-2'>\n\t\t\t\t\t\t\t\t\t\t\t\tRows per Page:\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\t\t\t\t\t\tname='perPage'\n\t\t\t\t\t\t\t\t\t\t\t\tid='perPage'\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Per Page'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={formInterval}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setFormInterval(Number(e.target.value))}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control form-control-sm'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='form-group p-1'>\n\t\t\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-warning btn-sm'>\n\t\t\t\t\t\t\t\t\t\t\t\tChange\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t\t{processing ? (\n\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t<div className='text-center'>\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t{data.length > 0 ? (\n\t\t\t\t\t\t\t\t<div className='table-responsive' style={{ overflowY: 'hidden' }}>\n\t\t\t\t\t\t\t\t\t<Datatable\n\t\t\t\t\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\t\t\t\t\tdata={data.map((item, index) => ({\n\t\t\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\t\t\taction: (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={`d-flex w-100 ${!withAction ? 'd-none' : ''}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{outIf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdontShowView === undefined || dontShowView === false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className='mx-1 btn btn-link' onClick={() => onViewClick(item)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='ni ni-active-40 text-info'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{outIf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdontShowEdit === undefined || dontShowEdit === false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className='mx-1 btn btn-link' onClick={() => onEditClick(item)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='ni ni-ruler-pencil text-warning'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{outIf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdontShowDelete === undefined || dontShowDelete === false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-toggle='modal'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-target={`#deleteModal${index}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='mx-1 btn btn-link'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='ni ni-fat-delete text-danger'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\t\t\t\tpagination\n\t\t\t\t\t\t\t\t\t\ttheme={'default'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{data.length === 0 ? (\n\t\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t\t<h3 className='text-center'>No Data</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{withAction\n\t\t\t\t\t\t? data.map((item, index) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tclassName='modal fade'\n\t\t\t\t\t\t\t\t\tid={`deleteModal${index}`}\n\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\trole='dialog'\n\t\t\t\t\t\t\t\t\taria-labelledby={`deleteModalLabel${index}`}\n\t\t\t\t\t\t\t\t\taria-hidden='true'>\n\t\t\t\t\t\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\n\t\t\t\t\t\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteModalLabel${index}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tDelete {pluralize.singular(title)}\n\t\t\t\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className='modal-body'>\n\t\t\t\t\t\t\t\t\t\t\t\tAre you sure you want to delete this {pluralize.singular(title)}?\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className='modal-footer'>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst modal = $(`#deleteModal${index}`);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodal.on('hidden.bs.modal', () => onDeleteConfirm(item));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodal.modal('hide');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tConfirm\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t  ))\n\t\t\t\t\t\t: null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\nimport { outIf } from '../helpers';\nimport toastr from 'toastr';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { Request } from '../contracts/Request';\nimport state from '../state';\nimport { User } from '../contracts/User';\nimport { routes } from '../routes';\n\ntype Props = {\n\tclassName?: string;\n};\n\nexport function TrackRequest(props: Props) {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [id, setID] = useState('');\n\tconst history = useHistory();\n\n\tconst user = state.get<User>('user');\n\n\tconst submit = async () => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Array<Request>>('/requests');\n\t\t\tconst request = data.find((request) => request.request_id.includes(id) || request.request_id === id);\n\t\t\tif (request && (!state.has('logged') || !state.get('logged') || state.get('user') === undefined)) {\n\t\t\t\treturn history.push(`${routes.TRACK_REQUEST}/${request.id}`);\n\t\t\t}\n\t\t\tif (!request || (user.role === 'Applicant' && request.user_id !== user.id)) {\n\t\t\t\treturn toastr.info('Request ID is invalid.', 'Notice');\n\t\t\t}\n\t\t\thistory.push(`/dashboard/requests/${request.id}`);\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to verify request ID.', 'Oops!');\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={`card shadow ${props.className}`}>\n\t\t\t<div className='card-body'>\n\t\t\t\t<form\n\t\t\t\t\tclassName='form-inline'\n\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tsubmit();\n\t\t\t\t\t}}>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tplaceholder='Request ID'\n\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\tvalue={id}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tsetID(e.target.value.trim());\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<button type='submit' className={`btn btn-warning ${outIf(processing, 'disabled')}`} disabled={processing}>\n\t\t\t\t\t\t\t{processing ? 'Processing' : 'Track Request'}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { FC, useEffect, useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { AcknowledgedDate, Request } from '../../../contracts/Request';\nimport { createTableColumns, exceptMany, handleError, ucfirst } from '../../../helpers';\nimport { Table } from '../Table';\nimport toastr from 'toastr';\nimport dayjs from 'dayjs';\nimport state from '../../../state';\nimport { User } from '../../../contracts/User';\nimport { TrackRequest } from '../../TrackRequest';\nimport axios from 'axios';\nimport { routes } from '../../../routes';\nimport { DocumentType } from '../../../contracts/DocumentType';\n\ntype Props = {};\n\nconst Requests: FC<Props> = () => {\n\tconst [requests, setRequests] = useState<Array<Request>>([]);\n\tconst [processing, setProcessing] = useState(false);\n\tconst match = useRouteMatch();\n\tconst history = useHistory();\n\tconst [types, setTypes] = useState<Array<DocumentType>>([]);\n\tconst [filter, setFilter] = useState<number | null>();\n\tconst [raws, setRaws] = useState<Array<Request>>([]);\n\tconst [docTypes, setDocTypes] = useState<Array<string>>([]);\n\tconst [typeFilter, setTypeFilter] = useState<string | null>(null);\n\n\tconst path = (path: string) => `${match.path}${path}`;\n\n\tconst readOnly = match.path.includes(routes.REQUESTS.INACTIVE) || match.path.includes(routes.REQUESTS.ARCHIVED);\n\n\tconst unexpire = async (request: Request) => {\n\t\ttry {\n\t\t\tawait axios.put(`/requests?id=${request.id}`, { expired: false });\n\t\t\ttoastr.success('Request updated successfully.');\n\t\t\tawait fetchRequests();\n\t\t} catch (error: any) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst fetchRequests = async () => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tconst { data: raw } = await axios.get<Array<Request>>('/requests');\n\t\t\tsetRaws(raw);\n\t\t\tconst data = filterToRole(raw);\n\t\t\tif (match.path.includes(routes.REQUESTS.INACTIVE)) {\n\t\t\t\tconst filtered = data\n\t\t\t\t\t.filter((request) => request.expired)\n\t\t\t\t\t.map((request) => ({\n\t\t\t\t\t\t...request,\n\t\t\t\t\t\tcontinue: (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tunexpire(request);\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tContinue\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t),\n\t\t\t\t\t}));\n\t\t\t\treturn setRequests(\n\t\t\t\t\texceptMany(filtered, [\n\t\t\t\t\t\t'file',\n\t\t\t\t\t\t'file_id',\n\t\t\t\t\t\t'user_id',\n\t\t\t\t\t\t'document_type_id',\n\t\t\t\t\t\t'tasks',\n\t\t\t\t\t\t'status',\n\t\t\t\t\t\t'acknowledged',\n\t\t\t\t\t\t'expired',\n\t\t\t\t\t\t'files',\n\t\t\t\t\t\t'for',\n\t\t\t\t\t\t'evaluation',\n\t\t\t\t\t\t'acknowledged_dates',\n\t\t\t\t\t\t'acknowledged',\n\t\t\t\t\t])\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (match.path.includes(routes.REQUESTS.ARCHIVED)) {\n\t\t\t\treturn setRequests(\n\t\t\t\t\texceptMany(data, [\n\t\t\t\t\t\t'file',\n\t\t\t\t\t\t'file_id',\n\t\t\t\t\t\t'user_id',\n\t\t\t\t\t\t'document_type_id',\n\t\t\t\t\t\t'tasks',\n\t\t\t\t\t\t'status',\n\t\t\t\t\t\t'acknowledged',\n\t\t\t\t\t\t'expired',\n\t\t\t\t\t\t'files',\n\t\t\t\t\t\t'for',\n\t\t\t\t\t\t'evaluation',\n\t\t\t\t\t\t'acknowledged_dates',\n\t\t\t\t\t]).filter((request) => request.approved)\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetRequests(\n\t\t\t\texceptMany(data, ['file', 'file_id', 'user_id', 'document_type_id', 'tasks', 'files', 'for', 'acknowledged_dates'])\n\t\t\t);\n\t\t} catch (error: any) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to fetch requests.');\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tconst deleteRequest = async (id: any) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tawait axios.delete(`/requests?id=${id}`);\n\t\t\ttoastr.success('Request deleted successfully.');\n\t\t\tawait fetchRequests();\n\t\t} catch (error: any) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\thandleError(error);\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tconst user = state.get<User>('user');\n\n\tconst filterToRole = (requests: Array<Request>) => {\n\t\tswitch (user.role) {\n\t\t\tcase 'Admin':\n\t\t\t\treturn requests;\n\t\t\tcase 'Cashier':\n\t\t\t\treturn requests.filter((request) => request.status === 'Payment');\n\t\t\tcase 'Evaluation':\n\t\t\t\treturn requests.filter((request) => request.status === 'Evaluating');\n\t\t\tcase 'Director':\n\t\t\t\t// return requests.filter((request) => !request.for || ['Director', 'Releasing'].includes(request.for));\n\t\t\t\treturn requests;\n\t\t\tcase 'Registrar':\n\t\t\t\t// return requests.filter((request) => !request.for || ['Registrar', 'Releasing'].includes(request.for));\n\t\t\t\treturn requests;\n\t\t\tcase 'Releasing':\n\t\t\t\treturn requests.filter((request) => request.status === 'Signed' || request.status === 'Releasing');\n\t\t\tcase 'Applicant':\n\t\t\t\treturn requests.filter((request) => request.user_id === user.id);\n\t\t}\n\t};\n\n\tconst isAcknowledgable = (request: Request) => {\n\t\tswitch (request.status) {\n\t\t\tcase 'Received':\n\t\t\t\treturn user.role === 'Admin';\n\t\t\tcase 'Payment':\n\t\t\t\treturn user.role === 'Cashier';\n\t\t\tcase 'Evaluating':\n\t\t\t\treturn user.role === 'Evaluation';\n\t\t\tcase 'Evaluated':\n\t\t\t\tconst raw = raws.find((r) => r.id === request.id);\n\t\t\t\treturn raw?.for === user.role;\n\t\t\tcase 'Signed':\n\t\t\t\treturn user.role === 'Releasing';\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t};\n\n\tconst renderAcknowledged = (request: Request) => {\n\t\tif (isAcknowledgable(request)) {\n\t\t\treturn request.acknowledged ? (\n\t\t\t\t<button className='btn btn-warning btn-sm disabled' disabled>\n\t\t\t\t\tDone\n\t\t\t\t</button>\n\t\t\t) : (\n\t\t\t\t<button\n\t\t\t\t\tclassName='btn btn-info btn-sm'\n\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.currentTarget.setAttribute('disabled', 'true');\n\t\t\t\t\t\te.currentTarget.classList.add('disabled');\n\t\t\t\t\t\te.currentTarget.textContent = 'Acknowledging...';\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst { data } = await axios.get(`/requests/show?id=${request.id}`);\n\t\t\t\t\t\t\tconst dates = Array.from<AcknowledgedDate>(JSON.parse(data.acknowledged_dates));\n\t\t\t\t\t\t\tdates.push({ date: new Date().toJSON(), status: data.status });\n\n\t\t\t\t\t\t\tif (user.role === 'Releasing') {\n\t\t\t\t\t\t\t\tdates.push({ date: new Date().toJSON(), status: 'Releasing' });\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tawait axios.put(`/requests?id=${data.id}`, {\n\t\t\t\t\t\t\t\tacknowledged: true,\n\t\t\t\t\t\t\t\tacknowledged_dates: JSON.stringify(dates),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\ttoastr.info('Request acknowledged.', 'Notice');\n\t\t\t\t\t\t\tawait fetchRequests();\n\t\t\t\t\t\t} catch (error: any) {\n\t\t\t\t\t\t\tconsole.log(error.toJSON(), request);\n\t\t\t\t\t\t\ttoastr.error('Unable to acknowledge request.');\n\t\t\t\t\t\t}\n\t\t\t\t\t}}>\n\t\t\t\t\tAcknowledge\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t\treturn request.acknowledged ? <span className='badge badge-green'>Yes</span> : <span className='badge badge-red'>No</span>;\n\t};\n\n\tconst fetchTypes = async () => {\n\t\ttry {\n\t\t\tconst response = await axios.get<Array<DocumentType>>('/document-types');\n\t\t\tsetTypes(response.data);\n\t\t\tconst types: string[] = [];\n\t\t\tresponse.data\n\t\t\t\t.map((type) => type.type)\n\t\t\t\t.forEach((type) => {\n\t\t\t\t\tif (!types.includes(type)) {\n\t\t\t\t\t\ttypes.push(type);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tsetDocTypes(types);\n\t\t\tsetProcessing(false);\n\t\t} catch (error: any) {\n\t\t\tconsole.log(error.toJSON());\n\t\t}\n\t};\n\n\tconst print = async () => {\n\t\ttoastr.info('Printing. Please wait.');\n\n\t\tconst items = exceptMany(requests, [\n\t\t\t'updated_at',\n\t\t\t'created_at',\n\t\t\t'approved',\n\t\t\t'acknowledged',\n\t\t\t'evaluation',\n\t\t\t'rejected',\n\t\t\t'expired',\n\t\t\t'status',\n\t\t\t'id',\n\t\t]);\n\n\t\tconst content = `\n            <div class='table-responsive' style='overflow: hidden'>\n                <table class='table table-sm' style='overflow: hidden'>\n                    <thead>\n                        <tr>\n                            ${createTableColumns(items)\n\t\t\t\t\t\t\t\t.map((column) => `<th>${column}</th>`)\n\t\t\t\t\t\t\t\t.join('')}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ${items\n\t\t\t\t\t\t\t.filter((request) => {\n\t\t\t\t\t\t\t\tif (filter) {\n\t\t\t\t\t\t\t\t\treturn request.documentType?.id === filter;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.filter((request) => {\n\t\t\t\t\t\t\t\tif (typeFilter) {\n\t\t\t\t\t\t\t\t\treturn request.documentType?.type === typeFilter;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.map((request) => ({\n\t\t\t\t\t\t\t\t...request,\n\t\t\t\t\t\t\t\t// created_at: dayjs(request.created_at).format('MMMM DD, YYYY hh:mm A'),\n\t\t\t\t\t\t\t\t// updated_at: dayjs(request.updated_at).format('MMMM DD, YYYY hh:mm A'),\n\t\t\t\t\t\t\t\tuser: request.user!.name,\n\t\t\t\t\t\t\t\ttype: request.documentType!.type,\n\t\t\t\t\t\t\t\tdocumentType: request.documentType!.name,\n\t\t\t\t\t\t\t\t// approved: request.approved ? 'Yes' : 'No',\n\t\t\t\t\t\t\t\t// acknowledged: request.acknowledged ? 'Yes' : 'No',\n\t\t\t\t\t\t\t\t// evaluation: request.evaluation ? request.evaluation : '',\n\t\t\t\t\t\t\t\t// rejected: request.rejected ? 'Yes' : 'No',\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t.map((request) => {\n\t\t\t\t\t\t\t\tif (!match.path.includes(routes.REQUESTS.ARCHIVED) && !match.path.includes(routes.REQUESTS.INACTIVE)) {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t...request,\n\t\t\t\t\t\t\t\t\t\t// expired: request.expired ? 'Yes' : 'No',\n\t\t\t\t\t\t\t\t\t\t// status: request.acknowledged ? request.status : 'Pending',\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn request;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\t(request: any) => `\n                                <tr>\n                                    ${Object.keys(request)\n\t\t\t\t\t\t\t\t\t\t.map((key) => `<td>${request[key]}</td>`)\n\t\t\t\t\t\t\t\t\t\t.join('')}\n                                </tr>`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.join('')}\n                    </tbody>\n                </table>\n            </div>\n        `;\n\n\t\tconst iframe = $('#iframe')[0] as HTMLIFrameElement;\n\t\tconst css = [\n\t\t\t'https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css',\n\t\t\t'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css',\n\t\t\t'https://fonts.googleapis.com/css?family=Montserrat:400,700,200',\n\t\t\torigin + '/assets/css/bootstrap.min.css',\n\t\t\torigin + '/assets/css/paper-dashboard.css',\n\t\t\torigin + '/assets/demo/demo.css',\n\t\t];\n\t\tconst window = iframe.contentWindow;\n\n\t\twindow?.document.open();\n\n\t\tif (window && window.document) {\n\t\t\twindow.document.write('<head>');\n\n\t\t\tconst parsed = await Promise.all(\n\t\t\t\tcss.map(async (url) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst { data } = await axios.get<string>(url, { timeout: 5000 });\n\t\t\t\t\t\treturn `<style>${data}</style>`;\n\t\t\t\t\t} catch (_) {\n\t\t\t\t\t\treturn `<link href=\"${url}\" rel=\"stylesheet\" />`;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tconst styles = Array.from(document.querySelectorAll('style')).map((style) => `<style>${style.innerHTML}</style>`);\n\n\t\t\tparsed.forEach((css) => {\n\t\t\t\twindow.document.write(css);\n\t\t\t});\n\t\t\tstyles.forEach((css) => {\n\t\t\t\twindow.document.write(css);\n\t\t\t});\n\t\t\twindow.document.write('</head>');\n\n\t\t\twindow.document.write('<body>');\n\t\t\twindow.document.write(content);\n\t\t\twindow.document.write('</body>');\n\t\t\twindow.document.close();\n\t\t\twindow.focus();\n\t\t\tsetTimeout(() => {\n\t\t\t\twindow.print();\n\t\t\t}, 500);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchRequests();\n\t\tfetchTypes();\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<TrackRequest />\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t<div className='container-fluid'>\n\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<label htmlFor='filter'>Document</label>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tclassName='form-control form-control-sm'\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tconst { value } = e.target;\n\t\t\t\t\t\t\t\t\t\t\tif (value === 'All') {\n\t\t\t\t\t\t\t\t\t\t\t\tsetFilter(null);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tconst id = value.parseNumbers();\n\t\t\t\t\t\t\t\t\t\t\t\tconst type = types.find((type) => type.id === id);\n\t\t\t\t\t\t\t\t\t\t\t\tif (type) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFilter(id);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvalue={filter ? filter : 'All'}>\n\t\t\t\t\t\t\t\t\t\t<option value='All'>All</option>\n\t\t\t\t\t\t\t\t\t\t{types.map((type, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<option key={index} value={type.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{type.name}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<label>Type</label>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tclassName='form-control form-control-sm'\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tconst { value } = e.target;\n\t\t\t\t\t\t\t\t\t\t\tif (value === 'All') {\n\t\t\t\t\t\t\t\t\t\t\t\tsetTypeFilter(null);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tconst type = types.find((type) => type.type === value);\n\t\t\t\t\t\t\t\t\t\t\t\tif (type) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTypeFilter(type.type);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvalue={typeFilter ? typeFilter : 'All'}>\n\t\t\t\t\t\t\t\t\t\t<option value='All'>All</option>\n\t\t\t\t\t\t\t\t\t\t{docTypes.map((type, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<option key={index} value={type}>\n\t\t\t\t\t\t\t\t\t\t\t\t{type}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12 col-md-6 d-flex align-items-center'>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-secondary btn-sm ml-auto'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tprint();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tPrint\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Table\n\t\t\t\tid='request-table'\n\t\t\t\ttitle={(() => {\n\t\t\t\t\tif (!readOnly) {\n\t\t\t\t\t\treturn 'Requests';\n\t\t\t\t\t}\n\t\t\t\t\tconst fragments = match.path.split('/');\n\t\t\t\t\treturn `${ucfirst(fragments[fragments.length - 1])} Requests`;\n\t\t\t\t})()}\n\t\t\t\tcolumns={createTableColumns(requests)}\n\t\t\t\tdata={requests\n\t\t\t\t\t.filter((request) => {\n\t\t\t\t\t\tif (filter) {\n\t\t\t\t\t\t\treturn request.documentType?.id === filter;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t})\n\t\t\t\t\t.filter((request) => {\n\t\t\t\t\t\tif (typeFilter) {\n\t\t\t\t\t\t\treturn request.documentType?.type === typeFilter;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t})\n\t\t\t\t\t.map((request) => ({\n\t\t\t\t\t\t...request,\n\t\t\t\t\t\tcreated_at: dayjs(request.created_at).format('MMMM DD, YYYY hh:mm A'),\n\t\t\t\t\t\tupdated_at: dayjs(request.updated_at).format('MMMM DD, YYYY hh:mm A'),\n\t\t\t\t\t\tuser: request.user!.name,\n\t\t\t\t\t\ttype: request.documentType!.type,\n\t\t\t\t\t\tdocumentType: request.documentType!.name,\n\t\t\t\t\t\tapproved: request.approved ? (\n\t\t\t\t\t\t\t<span className='badge badge-green'>Yes</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span className='badge badge-red'>No</span>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tacknowledged:\n\t\t\t\t\t\t\t!match.path.includes(routes.REQUESTS.ARCHIVED) && !match.path.includes(routes.REQUESTS.INACTIVE)\n\t\t\t\t\t\t\t\t? renderAcknowledged(request)\n\t\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\tevaluation: request.evaluation ? request.evaluation : '',\n\t\t\t\t\t\trejected: request.rejected ? (\n\t\t\t\t\t\t\t<span className='badge badge-danger'>Yes</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span className='badge badge-success'>No</span>\n\t\t\t\t\t\t),\n\t\t\t\t\t}))\n\t\t\t\t\t.map((request) => {\n\t\t\t\t\t\tif (!match.path.includes(routes.REQUESTS.ARCHIVED) && !match.path.includes(routes.REQUESTS.INACTIVE)) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...request,\n\t\t\t\t\t\t\t\texpired: request.expired ? (\n\t\t\t\t\t\t\t\t\t<span className='badge badge-red'>Yes</span>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<span className='badge badge-green'>No</span>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tstatus: request.acknowledged ? (\n\t\t\t\t\t\t\t\t\t<span className='badge badge-green'>{request.status}</span>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<span className='badge badge-danger'>Pending</span>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn request;\n\t\t\t\t\t})}\n\t\t\t\tprocessing={processing}\n\t\t\t\tonAddClick={() => history.push(path('add'))}\n\t\t\t\tonViewClick={({ id }) => {\n\t\t\t\t\thistory.push(path(`${id}`));\n\t\t\t\t}}\n\t\t\t\tonEditClick={({ id }) => {\n\t\t\t\t\thistory.push(path(`${id}/edit`));\n\t\t\t\t}}\n\t\t\t\tonDeleteConfirm={({ id }) => {\n\t\t\t\t\tdeleteRequest(id);\n\t\t\t\t}}\n\t\t\t\tonRefreshClick={fetchRequests}\n\t\t\t\twithAction={!readOnly}\n\t\t\t\tpagination={true}\n\t\t\t\tdontShowView={user.role === 'Applicant' || readOnly}\n\t\t\t\tdontShowDelete={user.role === 'Applicant' || readOnly}\n\t\t\t\tdisableAddButton={user.role !== 'Applicant' || readOnly}\n\t\t\t/>\n\t\t\t<iframe className='d-none' title='iframe' id='iframe'></iframe>\n\t\t</>\n\t);\n};\n\nexport default Requests;\n","import React, { FC } from 'react';\nimport Requests from './Requests';\n\ntype Props = {};\n\nconst Archived: FC<Props> = (props) => {\n\treturn <Requests />;\n};\n\nexport default Archived;\n","export const statuses = ['Received', 'Payment', 'Evaluating', 'Evaluated', 'Signed', 'Releasing', 'Released'] as Array<RequestStatus>;\n","import axios from 'axios';\nimport React, { ChangeEvent, createRef, useEffect, useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { statuses } from '../../../constants';\nimport { Request } from '../../../contracts/Request';\nimport { User } from '../../../contracts/User';\nimport { handleError, outIf } from '../../../helpers';\nimport toastr from 'toastr';\nimport state from '../../../state';\n\nexport function Form() {\n\tconst [processing, setProcessing] = useState(false);\n\tconst user = state.get<User>('user');\n\tconst [data, setData] = useState<any>({\n\t\tdocument_type_id: -1,\n\t\tapproved: false,\n\t\tstatus: 'Received',\n\t\tuser_id: user.id,\n\t\tfile_id: null,\n\t\tuser: {\n\t\t\tname: user.role === 'Applicant' ? user.name : 'N\\\\A',\n\t\t},\n\t\tdocumentType: {\n\t\t\tname: 'N\\\\A',\n\t\t},\n\t\tacknowledged_dates: JSON.stringify([]),\n\t});\n\tconst [file, setFile] = useState<File | null>(null);\n\n\tconst fileRef = createRef<HTMLInputElement>();\n\n\tconst history = useHistory();\n\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n\t\tconst { id, value } = e.target;\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[id]: value,\n\t\t});\n\t};\n\n\tconst { params, path } = useRouteMatch<{ id: string }>();\n\n\tconst fetchRequest = async () => {\n\t\tconst id = params.id;\n\t\ttry {\n\t\t\tconst response = await axios.get(`/requests/show?id=${id}`);\n\t\t\tsetData({\n\t\t\t\t...response.data,\n\t\t\t\tfile: null,\n\t\t\t});\n\t\t} catch (error: any) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to fetch request.');\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (path.includes('edit')) {\n\t\t\tfetchRequest();\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\tconst submit = async () => {\n\t\tif (processing) return;\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tconst payload = new FormData();\n\t\t\tpayload.append('_method', 'PUT');\n\n\t\t\tif (file) {\n\t\t\t\tdata.file = file;\n\t\t\t}\n\n\t\t\tfor (const key of ['documentType', 'logs', 'files', 'tasks', 'user', 'evaluation', 'expired']) {\n\t\t\t\tdelete data[key];\n\t\t\t}\n\n\t\t\tfor (const key in data) {\n\t\t\t\tconst value = data[key];\n\t\t\t\tpayload.append(key, value);\n\t\t\t}\n\n\t\t\tawait axios.post<Request>('/requests', payload);\n\t\t\ttoastr.success('Request updated successfully.');\n\t\t\tsetFile(null);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tconst getUserStatusables = (): Array<RequestStatus> => {\n\t\tswitch (user.role) {\n\t\t\tcase 'Admin':\n\t\t\t\treturn ['Received', 'Payment', 'Evaluating', 'Evaluated', 'Signed', 'Releasing', 'Released'];\n\t\t\tcase 'Registrar':\n\t\t\t\treturn ['Received', 'Payment', 'Evaluating', 'Evaluated', 'Signed', 'Releasing', 'Released'];\n\t\t\tcase 'Director':\n\t\t\t\treturn ['Received', 'Payment', 'Evaluating', 'Evaluated', 'Signed', 'Releasing', 'Released'];\n\t\t\tcase 'Cashier':\n\t\t\t\treturn ['Payment', 'Evaluating'];\n\t\t\tcase 'Evaluation':\n\t\t\t\treturn ['Signed', 'Released'];\n\t\t\tcase 'Releasing':\n\t\t\t\treturn ['Releasing', 'Released'];\n\t\t\tdefault:\n\t\t\t\treturn [];\n\t\t}\n\t};\n\n\tconst statusables = getUserStatusables();\n\n\treturn (\n\t\t<form\n\t\t\tclassName='container'\n\t\t\tonSubmit={async (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tawait submit();\n\t\t\t}}>\n\t\t\t<div className='d-flex'>\n\t\t\t\t<h3 className='align-self-center mb-0'>Update Request</h3>\n\t\t\t\t<button\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t}}>\n\t\t\t\t\tBack\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='document_type_id'>Document Type</label>\n\t\t\t\t<select\n\t\t\t\t\tname='document_type_id'\n\t\t\t\t\tid='document_type_id'\n\t\t\t\t\tclassName='form-control form-control-sm'\n\t\t\t\t\tdisabled={user.role !== 'Applicant'}>\n\t\t\t\t\t<option value={data.documentType?.name}>{data.documentType?.name}</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='user_id'>User</label>\n\t\t\t\t<select\n\t\t\t\t\tname='user_id'\n\t\t\t\t\tid='user_id'\n\t\t\t\t\tplaceholder='User'\n\t\t\t\t\tclassName='form-control form-control-sm'\n\t\t\t\t\tdisabled={user.role !== 'Applicant'}>\n\t\t\t\t\t<option value={data.user?.name}>{data.user?.name}</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='status'>Status</label>\n\t\t\t\t<select\n\t\t\t\t\tname='status'\n\t\t\t\t\tid='status'\n\t\t\t\t\tplaceholder='Status'\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\tdisabled={processing}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tvalue={data.status}>\n\t\t\t\t\t<option value=''> -- Select -- </option>\n\t\t\t\t\t{statuses\n\t\t\t\t\t\t.filter((status) => statusables.includes(status))\n\t\t\t\t\t\t.map((status, index) => (\n\t\t\t\t\t\t\t<option value={status} key={index}>\n\t\t\t\t\t\t\t\t{status}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='approved'>Approved</label>\n\t\t\t\t<select\n\t\t\t\t\tname='approved'\n\t\t\t\t\tid='approved'\n\t\t\t\t\tplaceholder='Approved'\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\tdisabled={processing || (user.role !== 'Admin' && user.role !== 'Releasing')}\n\t\t\t\t\tvalue={data.approved ? 'Yes' : 'No'}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tif (user.role === 'Admin' || user.role === 'Releasing') {\n\t\t\t\t\t\t\tif (e.target.value === 'Yes') {\n\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t\tapproved: true,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t\tapproved: false,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}}>\n\t\t\t\t\t<option value='Yes'>Yes</option>\n\t\t\t\t\t<option value='No'>No</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t{data.approved ? (\n\t\t\t\t<div className='form-group'>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`btn btn-warning btn-sm ${outIf(processing || file !== null, 'disabled')}`}\n\t\t\t\t\t\tdisabled={processing || (user.role !== 'Admin' && user.role !== 'Releasing') || file !== null}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tfileRef.current?.click();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{file !== null ? 'File Uploaded' : 'Upload File (if applicable)'}\n\t\t\t\t\t</button>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\tid='file'\n\t\t\t\t\t\tname='file'\n\t\t\t\t\t\tplaceholder='File'\n\t\t\t\t\t\tclassName={`form-control form-control-sm d-none`}\n\t\t\t\t\t\tdisabled={processing || (user.role !== 'Admin' && user.role !== 'Releasing') || file !== null}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tif ((user.role === 'Admin' || user.role === 'Releasing') && e.target.files && e.target.files.length > 0) {\n\t\t\t\t\t\t\t\tsetFile(e.target.files[0]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tref={fileRef}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t<div className='form-group'>\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\n\t\t\t\t\t{processing ? (\n\t\t\t\t\t\t<div className='spin'>\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t'Save'\n\t\t\t\t\t)}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n}\n","import React, { FC } from 'react';\nimport Requests from './Requests';\n\ntype Props = {};\n\nconst Inactive: FC<Props> = (props) => {\n\treturn <Requests />;\n};\n\nexport default Inactive;\n","import React from 'react';\nimport Requests from './Requests';\n\nexport function List() {\n\treturn <Requests />;\n}\n","import React, { FC } from 'react';\nimport 'react-quill/dist/quill.snow.css';\nimport ReactQuill from 'react-quill';\n\ntype Props = {\n\tonChange?: (content: string) => void;\n\tvalue: string;\n};\n\nconst Quill: FC<Props> = ({ onChange, value }) => {\n\treturn <ReactQuill onChange={onChange} value={value} />;\n};\n\nexport default Quill;\n","import axios from 'axios';\nimport React, { useEffect, useState, createRef } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { AcknowledgedDate, Request } from '../../../contracts/Request';\nimport { handleError, outIf } from '../../../helpers';\nimport toastr from 'toastr';\nimport { statuses } from '../../../constants';\nimport state from '../../../state';\nimport { User } from '../../../contracts/User';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport { Task } from '../../../contracts/Task';\nimport Quill from '../Quill';\ndayjs.extend(relativeTime);\n\nexport function View() {\n\tconst [request, setRequest] = useState<Request | null>(null);\n\tconst history = useHistory();\n\tconst [updating, setUpdating] = useState(false);\n\tconst [currentStatus, setCurrentStatus] = useState('');\n\tconst [smsMessage, setSmsMessage] = useState('');\n\tconst [emailMessage, setEmailMessage] = useState('');\n\tconst [rejectSmsMessage, setRejectSmsMessage] = useState('Request has been rejected');\n\tconst [rejectEmailMessage, setRejectEmailMessage] = useState('Request has been rejected');\n\tconst [releaseSms, setReleaseSms] = useState('');\n\tconst [releaseEmail, setReleaseEmail] = useState('');\n\tconst releaseRef = createRef<HTMLDivElement>();\n\n\tconst user = state.get<User>('user');\n\n\tconst fetchRequest = async (requestID: string) => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Request>(`/requests/show?id=${requestID}`);\n\t\t\tsetRequest(data);\n\t\t\tsetSmsMessage(\n\t\t\t\t`Your Request (ID: ${data.request_id}) has been updated to ${getNextStatus(user.role)}. ${\n\t\t\t\t\twindow.location.origin\n\t\t\t\t}/dashboard/requests/${data.id}`\n\t\t\t);\n\t\t\tsetEmailMessage(`\n                <div>\n                    <p>Hi ${data.user?.name}!</p>\n                    <p>Your request (ID: ${data.request_id}) is updated to: <b>${getNextStatus(user.role)}</b></p>\n                    <p>Last Updater: ${user.name}</p>\n                    <p>Date Updated: ${dayjs().format('MMMM DD, YYYY')}</p>\n                </div>\n            `);\n\t\t\tsetReleaseSms(\n\t\t\t\t`Your Request (ID: ${data.request_id}) has been released. ${window.location.origin}/dashboard/requests/${data.id}`\n\t\t\t);\n\t\t\tsetReleaseEmail(`\n                <div>\n                    <p>Hi ${data.user?.name}!</p>\n                    <p>Your request (ID: ${data.request_id}) is updated released.</b></p>\n                    <p>Last Updater: ${user.name}</p>\n                    <p>Date Released: ${dayjs().format('MMMM DD, YYYY')}</p>\n                </div>\n            `);\n\t\t\treturn data;\n\t\t} catch (error: any) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst markTask = async (task: Task, done: boolean) => {\n\t\ttry {\n\t\t\tawait axios.put('/requests/tasks', {\n\t\t\t\t...task,\n\t\t\t\tdone,\n\t\t\t\tname: user.name,\n\t\t\t});\n\t\t\ttoastr.info('Task updated.', 'Notice');\n\t\t\tfetchRequest(`${request?.id}`);\n\t\t} catch (error: any) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to update task.', 'Oops!');\n\t\t}\n\t};\n\n\tlet deleting = false;\n\n\tconst deleteRequest = async () => {\n\t\tif (deleting) {\n\t\t\treturn;\n\t\t}\n\t\tdeleting = true;\n\t\ttry {\n\t\t\tawait axios.delete(`/requests?id=${request?.id}`);\n\t\t\ttoastr.success('Request deleted successfully.');\n\t\t\thistory.goBack();\n\t\t} catch (error: any) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tdeleting = false;\n\t\t}\n\t};\n\n\tconst makeStatuses = (status: RequestStatus) => {\n\t\tconst level = ((status) => {\n\t\t\tswitch (status) {\n\t\t\t\tcase 'Received':\n\t\t\t\t\treturn 1;\n\t\t\t\tcase 'Payment':\n\t\t\t\t\treturn 2;\n\t\t\t\tcase 'Evaluating':\n\t\t\t\t\treturn 3;\n\t\t\t\tcase 'Evaluated':\n\t\t\t\t\treturn 4;\n\t\t\t\tcase 'Signed':\n\t\t\t\t\treturn 4;\n\t\t\t\tcase 'Releasing':\n\t\t\t\t\treturn 4;\n\t\t\t\tcase 'Released':\n\t\t\t\t\treturn 5;\n\t\t\t\tdefault:\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t})(status);\n\n\t\treturn {\n\t\t\tstatuses: statuses.filter((status) => !['Released', 'Evaluated'].includes(status)),\n\t\t\tlevel,\n\t\t};\n\t};\n\n\tconst { params } = useRouteMatch<{ id: string }>();\n\n\tuseEffect(() => {\n\t\tfetchRequest(params.id);\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\tconst next = ((role) => {\n\t\tswitch (role) {\n\t\t\tcase 'Admin':\n\t\t\t\treturn 'Forward for payment to Cashier';\n\t\t\tcase 'Cashier':\n\t\t\t\treturn 'Mark as paid and forward to Evaluation';\n\t\t\tcase 'Evaluation':\n\t\t\t\treturn 'Forward to Signing';\n\t\t\tcase 'Director':\n\t\t\t\treturn 'Mark as ready for releasing and forward to Releasing';\n\t\t\tcase 'Registrar':\n\t\t\t\treturn 'Mark as ready for releasing and forward to Director or Releasing';\n\t\t\tcase 'Releasing':\n\t\t\t\treturn 'Notify client for document release';\n\t\t\tdefault:\n\t\t\t\treturn '';\n\t\t}\n\t})(user.role);\n\n\tconst forward = async (assignedRole?: string) => {\n\t\tsetUpdating(true);\n\t\tconst data: any = {};\n\t\ttry {\n\t\t\tconst status: RequestStatus = ((role) => {\n\t\t\t\tif (assignedRole && ['Registrar', 'Director', 'Releasing'].includes(assignedRole)) {\n\t\t\t\t\tdata.for = assignedRole;\n\t\t\t\t} else {\n\t\t\t\t\tdata.for = null;\n\t\t\t\t}\n\t\t\t\tif (role === 'Registrar' && assignedRole === 'Director') {\n\t\t\t\t\treturn 'Evaluated';\n\t\t\t\t}\n\t\t\t\treturn getNextStatus(role);\n\t\t\t})(user.role);\n\n\t\t\tif (['Registrar', 'Director', 'Releasing'].includes(user.role)) {\n\t\t\t\tconst { data: req } = await axios.get(`/requests/show?id=${request?.id}`);\n\t\t\t\tconst dates = Array.from<AcknowledgedDate>(JSON.parse(req.acknowledged_dates));\n\n\t\t\t\tdates.push({ date: new Date().toJSON(), status: 'Signed' });\n\n\t\t\t\tdata.acknowledged_dates = JSON.stringify(dates);\n\t\t\t}\n\n\t\t\tif (!['Registrar', 'Director', 'Releasing'].includes(data.for)) {\n\t\t\t\tdata.for = null;\n\t\t\t}\n\n\t\t\tawait axios.post(`/requests?id=${request?.id}`, {\n\t\t\t\t...data,\n\t\t\t\tstatus,\n\t\t\t\tacknowledged: ['Releasing', 'Released'].includes(status),\n\t\t\t\tsms_message: smsMessage,\n\t\t\t\temail_message: emailMessage,\n\t\t\t\t_method: 'PUT',\n\t\t\t});\n\t\t\ttoastr.info('Request has been updated and forwarded.', 'Notice');\n\t\t\thistory.goBack();\n\t\t} catch (error: any) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Something went wrong, please try again later.', 'Unable to forward');\n\t\t} finally {\n\t\t\tsetUpdating(false);\n\t\t}\n\t};\n\n\tconst approve = async () => {\n\t\tsetUpdating(true);\n\t\ttry {\n\t\t\tawait axios.post(`/requests`, {\n\t\t\t\tid: request?.id,\n\t\t\t\tapproved: true,\n\t\t\t\tacknowledged: true,\n\t\t\t\tstatus: 'Released',\n\t\t\t\tsms_message: releaseSms,\n\t\t\t\temail_message: releaseEmail,\n\t\t\t\t_method: 'PUT',\n\t\t\t});\n\t\t\ttoastr.info('Request has been approved and released.', 'Notice');\n\t\t\thistory.goBack();\n\t\t} catch (error: any) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Something went wrong, please try again later.', 'Unable to approve');\n\t\t} finally {\n\t\t\tsetUpdating(false);\n\t\t}\n\t};\n\n\tconst reject = async () => {\n\t\tsetUpdating(true);\n\t\ttry {\n\t\t\tawait axios.post('/requests/reject', {\n\t\t\t\tid: request?.id,\n\t\t\t\tsms_message: rejectSmsMessage,\n\t\t\t\temail_message: rejectEmailMessage,\n\t\t\t});\n\t\t\ttoastr.info('Request has been rejected.', 'Notice');\n\t\t\thistory.goBack();\n\t\t} catch (error: any) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Something went wrong, please try again later.', 'Unable to reject');\n\t\t} finally {\n\t\t\tsetUpdating(false);\n\t\t}\n\t};\n\n\tconst getNextStatus = (role: Roles) => {\n\t\tswitch (role) {\n\t\t\tcase 'Admin':\n\t\t\t\treturn 'Payment';\n\t\t\tcase 'Cashier':\n\t\t\t\treturn 'Evaluating';\n\t\t\tcase 'Evaluation':\n\t\t\t\treturn 'Evaluated';\n\t\t\tcase 'Director':\n\t\t\t\treturn 'Signed';\n\t\t\tcase 'Registrar':\n\t\t\t\treturn 'Signed';\n\t\t\tcase 'Releasing':\n\t\t\t\treturn 'Releasing';\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Invalid role. ${role}`);\n\t\t}\n\t};\n\n\tconst isForwardable = () => {\n\t\tswitch (user.role) {\n\t\t\tcase 'Admin':\n\t\t\t\treturn request?.status === 'Received';\n\t\t\tcase 'Cashier':\n\t\t\t\treturn request?.status === 'Payment';\n\t\t\tcase 'Evaluation':\n\t\t\t\treturn request?.status === 'Evaluating';\n\t\t\tcase 'Director':\n\t\t\t\treturn request?.status === 'Evaluated' && request.for === user.role;\n\t\t\tcase 'Registrar':\n\t\t\t\treturn request?.status === 'Evaluated' && request.for === user.role;\n\t\t\tcase 'Releasing':\n\t\t\t\treturn request?.status === 'Signed';\n\t\t}\n\t};\n\n\tconst origin = window.location.origin;\n\tconst exportToPDF = async () => {\n\t\ttoastr.info('Printing. Please wait.');\n\t\tconst card = $(String($('#request-card')[0].innerHTML));\n\n\t\tcard.find('button').remove();\n\t\tcard.find('.bi-plus-circle').remove();\n\t\tcard.find('i[title=\"Mark as Not Done\"]').remove();\n\t\tcard.find('i[title=\"Mark as Done\"]').remove();\n\t\tcard.find('i[title=\"Edit\"]').remove();\n\t\tcard.find('i[title=\"Delete\"]').remove();\n\n\t\tconst iframe = $('#iframe')[0] as HTMLIFrameElement;\n\t\tconst css = [\n\t\t\t'https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css',\n\t\t\t'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css',\n\t\t\t'https://fonts.googleapis.com/css?family=Montserrat:400,700,200',\n\t\t\torigin + '/assets/css/bootstrap.min.css',\n\t\t\torigin + '/assets/css/paper-dashboard.css',\n\t\t\torigin + '/assets/demo/demo.css',\n\t\t];\n\t\tconst window = iframe.contentWindow;\n\n\t\twindow?.document.open();\n\n\t\tif (window && window.document) {\n\t\t\twindow.document.write('<head>');\n\n\t\t\tconst parsed = await Promise.all(\n\t\t\t\tcss.map(async (url) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst { data } = await axios.get<string>(url, { timeout: 5000 });\n\t\t\t\t\t\treturn `<style>${data}</style>`;\n\t\t\t\t\t} catch (_) {\n\t\t\t\t\t\treturn `<link href=\"${url}\" rel=\"stylesheet\" />`;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tparsed.forEach((css) => {\n\t\t\t\twindow.document.write(css);\n\t\t\t});\n\t\t\twindow.document.write('</head>');\n\n\t\t\twindow.document.write('<body>');\n\t\t\twindow.document.write(card.html());\n\t\t\twindow.document.write('</body>');\n\t\t\twindow.document.close();\n\t\t\twindow.focus();\n\t\t\tsetTimeout(() => {\n\t\t\t\twindow.print();\n\t\t\t}, 500);\n\t\t}\n\t};\n\n\tconst taskBelongsToUser = (type: string) => {\n\t\tif (['Payment', 'Paid'].includes(type)) {\n\t\t\treturn user.role === 'Cashier';\n\t\t} else if (['Received'].includes(type)) {\n\t\t\treturn user.role === 'Admin';\n\t\t} else if (['Evaluated'].includes(type)) {\n\t\t\treturn user.role === 'Evaluation';\n\t\t} else if (['Signed'].includes(type)) {\n\t\t\treturn user.role === 'Director' || user.role === 'Registrar';\n\t\t} else if (['Releasing', 'Released'].includes(type)) {\n\t\t\treturn user.role === 'Releasing';\n\t\t} else {\n\t\t\treturn type === user.role;\n\t\t}\n\t};\n\n\tconst findDate = (status: string) => {\n\t\tconst dates = Array.from<AcknowledgedDate>(JSON.parse(request?.acknowledged_dates || '[]'));\n\t\treturn dates.find((date) => date.status === status);\n\t};\n\n\tconst isTasksDone = (request: Request) => {\n\t\tif (request.tasks && request.tasks.length === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!request.tasks) {\n\t\t\treturn true;\n\t\t}\n\n\t\tfor (const task of request.tasks) {\n\t\t\tif (task.for === request.status) {\n\t\t\t\tif (!task.done) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<div className='container'>\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-12'>\n\t\t\t\t\t<h3 className='mb-0'>View Request</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12 d-flex'>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tBack\n\t\t\t\t\t</button>\n\t\t\t\t\t{user.role !== 'Applicant' ? (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={`${window.location.pathname}/delete`}\n\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm align-self-center ml-1'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t$('#deleteRequestModal').modal('show');\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12' id='request-card'>\n\t\t\t\t\t{request ? (\n\t\t\t\t\t\t<div className='card shadow rounded'>\n\t\t\t\t\t\t\t<div className='card-header'>\n\t\t\t\t\t\t\t\t{!['Applicant', 'Evaluation', 'Releasing'].includes(user.role) && isForwardable() ? (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-info btn-sm ${outIf(updating || !request.acknowledged, 'disabled')}`}\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t$('#forwardRequestModal').modal('toggle');\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tdisabled={updating || !request.acknowledged || !isTasksDone(request)}>\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-bell'></i>{' '}\n\t\t\t\t\t\t\t\t\t\t{request.acknowledged ? next : 'You must acknowledge the request first'}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t{user.role === 'Evaluation' ? (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-info btn-sm ${outIf(updating || !request.acknowledged, 'disabled')}`}\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t$('#forwardRequestModal').modal('toggle');\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tdisabled={updating || !request.acknowledged || !isTasksDone(request)}>\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-bell'></i>{' '}\n\t\t\t\t\t\t\t\t\t\t{request.acknowledged ? 'Forward' : 'You must acknowledge the request first'}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t{user.role === 'Releasing' && next === 'Notify client for document release' ? (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-info btn-sm ${outIf(updating || !request.acknowledged, 'disabled')}`}\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\tif (releaseRef.current) {\n\t\t\t\t\t\t\t\t\t\t\t\t$(releaseRef.current).modal('toggle');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tdisabled={updating || !request.acknowledged || !isTasksDone(request)}>\n\t\t\t\t\t\t\t\t\t\t{request.acknowledged ? 'Release' : 'You must acknowledge the request first'}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t{user.role === 'Admin' ? (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t$('#rejectRequestModal').modal('toggle');\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\tupdating || request.rejected || ((request.tasks?.length || 0) > 0 && isTasksDone(request))\n\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\tReject\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-success btn-sm`}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\texportToPDF();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<i className='fas fa-print'></i> Export to PDF\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<p className='card-title'>Requester's Name: {request.user!.name}</p>\n\t\t\t\t\t\t\t\t<p className='card-text'>Document Type: {request.documentType!.name}</p>\n\t\t\t\t\t\t\t\t<p className='card-text'>Expired: {request.expired ? 'Yes' : 'No'}</p>\n\t\t\t\t\t\t\t\t<p className='card-text'>Acknowledged: {request.acknowledged ? 'Yes' : 'No'}</p>\n\t\t\t\t\t\t\t\t{request.user?.student_id_number ? (\n\t\t\t\t\t\t\t\t\t<p className='card-text'>Student ID Number: {request.user.student_id_number}</p>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<p className='card-text'>Evaluation: {request.evaluation}</p>\n\t\t\t\t\t\t\t\t<p className='card-text'>\n\t\t\t\t\t\t\t\t\tLast Updated By:{' '}\n\t\t\t\t\t\t\t\t\t{request.logs &&\n\t\t\t\t\t\t\t\t\trequest.logs.length > 0 &&\n\t\t\t\t\t\t\t\t\trequest.logs[request.logs.length - 1].user.role !== 'Applicant'\n\t\t\t\t\t\t\t\t\t\t? `${request.logs[request.logs.length - 1].user.name} - ${dayjs(request.updated_at).format(\n\t\t\t\t\t\t\t\t\t\t\t\t'MMMM DD, YYYY hh:mm A'\n\t\t\t\t\t\t\t\t\t\t  )}`\n\t\t\t\t\t\t\t\t\t\t: 'N/A'}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className='card-text'>Status: {request.status}</p>\n\t\t\t\t\t\t\t\t<p className='card-title'>Files:</p>\n\t\t\t\t\t\t\t\t<div className='container-fluid'>\n\t\t\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t\t\t{request.files?.map((file, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4 col-lg-3 col-xl-2' key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t<a href={`${file.file?.url}&download=true`}>{file.file?.name}</a>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<ul className='list-group'>\n\t\t\t\t\t\t\t\t\t{(({ level, statuses }) => {\n\t\t\t\t\t\t\t\t\t\treturn statuses.map((status, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li className='list-group-item' key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='d-flex align-items-center'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{level !== 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfindDate(status) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle-fill mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : level >= index + 1 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-circle mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-x-circle-fill mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{status}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{findDate(status)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `- ${dayjs(findDate(status)?.date).format('MMMM DD, YYYY hh:mm A')}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{request.tasks && request.tasks.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className='list-group mt-2'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{request.tasks\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter((task) => task.for === status)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((task, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='list-group-item' key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='d-flex align-items-center'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.done ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle-fill mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-circle mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{task.title}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{taskBelongsToUser(status) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='ml-auto'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.done ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='bi bi-check-circle-fill mx-1 clickable'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle='Mark as Not Done'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => markTask(task, false)}></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='bi bi-check-circle mx-1 clickable'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle='Mark as Done'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => markTask(task, true)}></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t));\n\t\t\t\t\t\t\t\t\t})(makeStatuses(request.status))}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<div className='card w-100 mx-1 my-4 shadow rounded'>\n\t\t\t\t\t\t\t\t\t<div className='card-header'>\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>History</h4>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='card-body table-responsive' style={{ overflowY: 'hidden' }}>\n\t\t\t\t\t\t\t\t\t\t<table className='table table-sm text-center'>\n\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>User</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Action</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Date</th>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t{request.logs!.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>No Data</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t{request.logs!.map((log, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{log.user.name}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{log.action}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{dayjs(log.updated_at).format('MMMM DD, YYYY hh:mm A')}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName='modal fade'\n\t\t\t\tid={`deleteRequestModal`}\n\t\t\t\ttabIndex={-1}\n\t\t\t\trole='dialog'\n\t\t\t\taria-labelledby={`deleteRequestModalLabel`}\n\t\t\t\taria-hidden='true'>\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\n\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteRequestModalLabel`}>\n\t\t\t\t\t\t\t\tDelete Request\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-body'>Are you sure you want to delete this request?</div>\n\t\t\t\t\t\t<div className='modal-footer'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t$('#deleteRequestModal').modal('hide');\n\t\t\t\t\t\t\t\t\tdeleteRequest();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tConfirm\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName='modal fade'\n\t\t\t\tid={`forwardRequestModal`}\n\t\t\t\ttabIndex={-1}\n\t\t\t\trole='dialog'\n\t\t\t\taria-labelledby={`forwardRequestModalLabel`}\n\t\t\t\taria-hidden='true'>\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\n\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`forwardRequestModalLabel`}>\n\t\t\t\t\t\t\t\t{user.role === 'Releasing' && next === 'Notify client for document release' ? 'Release' : 'Forward'} Request\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-body'>\n\t\t\t\t\t\t\t{user.role === 'Evaluation' ? (\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tsetCurrentStatus(e.target.value);\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t{['Registrar', 'Director'].map((status, index) => (\n\t\t\t\t\t\t\t\t\t\t<option value={status} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t{status}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{user.role === 'Registrar' ? (\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tsetCurrentStatus(e.target.value);\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t{['Releasing', 'Director'].map((status, index) => (\n\t\t\t\t\t\t\t\t\t\t<option value={status} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t{status}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<label>SMS Message</label>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tcols={20}\n\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\tclassName='form-control mb-3'\n\t\t\t\t\t\t\t\tonChange={(e) => setSmsMessage(e.target.value)}\n\t\t\t\t\t\t\t\tvalue={smsMessage}></textarea>\n\t\t\t\t\t\t\t<label>Email Message</label>\n\t\t\t\t\t\t\t<Quill onChange={(data) => setEmailMessage(data)} value={emailMessage} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-footer'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t$('#forwardRequestModal').modal('hide');\n\t\t\t\t\t\t\t\t\tforward(currentStatus);\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tForward\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tref={releaseRef}\n\t\t\t\tclassName='modal fade'\n\t\t\t\ttabIndex={-1}\n\t\t\t\trole='dialog'\n\t\t\t\taria-labelledby={`releaseModalLabel`}\n\t\t\t\taria-hidden='true'>\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\n\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`releaseModalLabel`}>\n\t\t\t\t\t\t\t\tRelease Request\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-body'>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label>SMS Message</label>\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\tcols={20}\n\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\tclassName='form-control mb-3'\n\t\t\t\t\t\t\t\t\tonChange={(e) => setReleaseSms(e.target.value)}\n\t\t\t\t\t\t\t\t\tvalue={releaseSms}></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label>Email Message</label>\n\t\t\t\t\t\t\t\t<Quill onChange={(data) => setReleaseEmail(data)} value={releaseEmail} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-footer'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tif (releaseRef.current) {\n\t\t\t\t\t\t\t\t\t\t$(releaseRef.current).modal('hide');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tapprove();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tForward\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName='modal fade'\n\t\t\t\tid={`rejectRequestModal`}\n\t\t\t\ttabIndex={-1}\n\t\t\t\trole='dialog'\n\t\t\t\taria-labelledby={`rejectRequestModalLabel`}\n\t\t\t\taria-hidden='true'>\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\n\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`rejectRequestModalLabel`}>\n\t\t\t\t\t\t\t\tReject Request\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-body'>\n\t\t\t\t\t\t\t<label>Message</label>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tcols={20}\n\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\tclassName='form-control mb-3'\n\t\t\t\t\t\t\t\tonChange={(e) => setRejectSmsMessage(e.target.value)}\n\t\t\t\t\t\t\t\tvalue={rejectSmsMessage}></textarea>\n\t\t\t\t\t\t\t<label>Email Message</label>\n\t\t\t\t\t\t\t<Quill onChange={(data) => setRejectEmailMessage(data)} value={rejectEmailMessage} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-footer'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t$('#rejectRequestModal').modal('hide');\n\t\t\t\t\t\t\t\t\treject();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tConfirm\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<iframe title='Print Page' id='iframe' className='d-none'></iframe>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { routes } from '../../../routes';\nimport Archived from './Archived';\nimport { Form } from './Form';\nimport Inactive from './Inactive';\nimport { List } from './List';\nimport { View } from './View';\n\nexport function Requests() {\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path={url('/')} exact component={List} />\n\t\t\t<Route path={url(routes.REQUESTS.INACTIVE)} component={Inactive} />\n\t\t\t<Route path={url(routes.REQUESTS.ARCHIVED)} component={Archived} />\n\t\t\t<Route path={url('/add')} component={Form} />\n\t\t\t<Route path={url('/:id')} exact component={View} />\n\t\t\t<Route path={url('/:id/edit')} component={Form} />\n\t\t</Switch>\n\t);\n}\n","import React, { createRef, useState } from 'react';\nimport { CMS } from '../../../contracts/CMS';\nimport toastr from 'toastr';\nimport { outIf } from '../../../helpers';\nimport dayjs from 'dayjs';\n\ntype Props = {\n\tcms: CMS;\n\tonChange: (value: string, success: () => void) => void;\n};\n\nexport function Entry({ cms, onChange }: Props) {\n\tconst [value, setValue] = useState(cms.value);\n\tconst [mode, setMode] = useState<'Edit' | 'View'>('View');\n\tconst [uploaded, setUploaded] = useState(false);\n\n\tconst isFile = cms.key.includes('picture');\n\n\tconst fileRef = createRef<HTMLInputElement>();\n\n\tconst reader = new FileReader();\n\n\treader.onload = (event) => {\n\t\tif (event.target && event.target.result) {\n\t\t\tsetValue(String(event.target.result));\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className='col-12 col-md-4 col-lg-3 border-0 p-3 mb-4 d-flex'>\n\t\t\t<div className='card' style={{ flex: 1 }}>\n\t\t\t\t{isFile ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName='card-img-top'\n\t\t\t\t\t\tsrc={value}\n\t\t\t\t\t\talt={cms.key}\n\t\t\t\t\t\tstyle={{ borderTopLeftRadius: '12px', borderTopRightRadius: '12px' }}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t<div className='card-body'>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<h6 className='card-title'>{cms.key}</h6>\n\t\t\t\t\t\t<small className='text-muted form-text mb-4 mt-0'>Last Updated: {dayjs(cms.updated_at).fromNow()}</small>\n\t\t\t\t\t\t{mode === 'View' ? <p>{isFile ? null : <b>{value}</b>}</p> : null}\n\t\t\t\t\t\t{mode === 'Edit' ? (\n\t\t\t\t\t\t\tisFile ? (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-info btn-sm ${outIf(uploaded, 'disabled')}`}\n\t\t\t\t\t\t\t\t\t\tdisabled={uploaded}\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\tif (!uploaded && fileRef.current) {\n\t\t\t\t\t\t\t\t\t\t\t\tfileRef.current.click();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t{uploaded ? 'Uploaded' : 'Upload'}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\t\t\t\tref={fileRef}\n\t\t\t\t\t\t\t\t\t\tclassName='d-none'\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0 && !uploaded) {\n\t\t\t\t\t\t\t\t\t\t\t\treader.readAsDataURL(e.target.files[0]);\n\t\t\t\t\t\t\t\t\t\t\t\tsetUploaded(true);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tclassName='form-control form-control-sm'\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\tplaceholder='Value'\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tsetValue(e.target.value);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='card-footer'>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='btn btn-success btn-sm d-inline-block mx-1'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (mode === 'Edit') {\n\t\t\t\t\t\t\t\t\tonChange(value, () => {\n\t\t\t\t\t\t\t\t\t\ttoastr.info(`${cms.key} has been updated.`, 'Notice');\n\t\t\t\t\t\t\t\t\t\tsetUploaded(false);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tsetMode('View');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetMode('Edit');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{mode === 'Edit' ? 'Save' : 'Edit'}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{mode === 'Edit' ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm d-inline-block mx-1'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tsetMode('View');\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\nimport toastr from 'toastr';\n\ntype Props = {\n\tfaq: FAQ;\n\tonChange: (value: FAQ, success: () => void) => void;\n\tdefaultMode?: 'View' | 'Edit';\n};\n\nexport function FAQ({ faq, onChange, defaultMode }: Props) {\n\tconst [mode, setMode] = useState(defaultMode || 'View');\n\tconst [question, setQuestion] = useState(faq.question);\n\tconst [answer, setAnswer] = useState(faq.answer);\n\n\treturn (\n\t\t<div className='col-12'>\n\t\t\t{mode === 'View' ? (\n\t\t\t\t<div className='form-group'>\n\t\t\t\t\t<label htmlFor='question'>\n\t\t\t\t\t\tQuestion: <b>{faq.question}</b>\n\t\t\t\t\t</label>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tAnswer: <b>{faq.answer}</b>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t{mode === 'Edit' ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='question'\n\t\t\t\t\t\t\tplaceholder='Question'\n\t\t\t\t\t\t\tclassName='form-control form-control-sm'\n\t\t\t\t\t\t\tvalue={question}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tsetQuestion(e.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tname='answer'\n\t\t\t\t\t\t\tplaceholder='Answer'\n\t\t\t\t\t\t\tclassName='form-control form-control-sm'\n\t\t\t\t\t\t\tvalue={answer}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tsetAnswer(e.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t\t<div className='form-group'>\n\t\t\t\t<button\n\t\t\t\t\tclassName='btn btn-success btn-sm d-inline-block mx-1'\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif (mode === 'Edit') {\n\t\t\t\t\t\t\tonChange({ question, answer }, () => {\n\t\t\t\t\t\t\t\ttoastr.info('FAQs has been updated.', 'Notice');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetMode('View');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetMode('Edit');\n\t\t\t\t\t\t}\n\t\t\t\t\t}}>\n\t\t\t\t\t{mode === 'Edit' ? 'Save' : 'Edit'}\n\t\t\t\t</button>\n\t\t\t\t{mode === 'Edit' ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-danger btn-sm d-inline-block mx-1'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tsetMode('View');\n\t\t\t\t\t\t\tsetQuestion(faq.question);\n\t\t\t\t\t\t\tsetAnswer(faq.answer);\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</button>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { CMS as CMSContract } from '../../../contracts/CMS';\nimport toastr from 'toastr';\nimport { useHistory } from 'react-router-dom';\nimport { Entry } from './Entry';\nimport { FAQ } from './FAQ';\nimport dayjs from 'dayjs';\n\nexport function CMS() {\n\tconst [cms, setCMS] = useState<Array<CMSContract>>([]);\n\tconst [mode, setMode] = useState<'Manage' | 'Preview'>('Manage');\n\tconst history = useHistory();\n\tconst find = (key: string, defaultValue: string) => {\n\t\tconst c = cms.find((cms) => cms.key === key);\n\t\tif (c) {\n\t\t\treturn c.value;\n\t\t}\n\t\treturn defaultValue;\n\t};\n\tconst faqs = JSON.parse(find('faqs', JSON.stringify([]))) as Array<FAQ>;\n\n\tconst fetchCMS = async () => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Array<CMSContract>>('/cms');\n\t\t\tsetCMS([...data]);\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to fetch CMS entities.', 'Oops!');\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst saveCMS = async (cms: CMSContract) => {\n\t\tif (cms.id) {\n\t\t\tawait axios.put('/cms', cms);\n\t\t} else {\n\t\t\tawait axios.post('/cms', cms);\n\t\t}\n\t};\n\n\tconst saveFAQ = async (faq: FAQ, index: number) => {\n\t\tfaqs.splice(index, 1, faq);\n\n\t\tconst entity = cms.find((cms) => cms.key === 'faqs');\n\n\t\tconst data = JSON.stringify(faqs);\n\n\t\tif (entity) {\n\t\t\tentity.value = data;\n\t\t\tcms.splice(\n\t\t\t\tcms.findIndex((cms) => cms.key === 'faqs'),\n\t\t\t\t1,\n\t\t\t\tentity\n\t\t\t);\n\t\t\tsetCMS([...cms]);\n\t\t\tawait saveCMS(entity);\n\t\t} else {\n\t\t\tcms.push({ key: 'faqs', value: data });\n\t\t\tsetCMS([...cms]);\n\t\t\tawait saveCMS({\n\t\t\t\tkey: 'faqs',\n\t\t\t\tvalue: data,\n\t\t\t});\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchCMS();\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className={`${mode === 'Preview' ? 'container-fluid' : 'container'}`}>\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-12'>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-info btn-sm'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tsetMode(mode === 'Preview' ? 'Manage' : 'Preview');\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{mode === 'Preview' ? 'Manage' : 'Preview'}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t{mode === 'Manage' ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{cms\n\t\t\t\t\t\t\t.filter((cms) => cms.key !== 'faqs')\n\t\t\t\t\t\t\t.map((cms, index) => (\n\t\t\t\t\t\t\t\t<Entry\n\t\t\t\t\t\t\t\t\tcms={cms}\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tonChange={async (value, success) => {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tcms.value = value;\n\t\t\t\t\t\t\t\t\t\t\tawait saveCMS(cms);\n\t\t\t\t\t\t\t\t\t\t\tsuccess();\n\t\t\t\t\t\t\t\t\t\t\tfetchCMS();\n\t\t\t\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(error.toJSON());\n\t\t\t\t\t\t\t\t\t\t\ttoastr.error('Unable to update CMS entity.', 'Oops!');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t\t<h3 className='mb-0'>FAQs</h3>\n\t\t\t\t\t\t\t{cms.find((cms) => cms.key === 'faqs') && cms.find((cms) => cms.key === 'faqs')!.updated_at ? (\n\t\t\t\t\t\t\t\t<small className='text-muted mt-0 form-text mb-3'>\n\t\t\t\t\t\t\t\t\tLast Updated: {dayjs(cms.find((cms) => cms.key === 'faqs')?.updated_at).fromNow()}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='btn btn-success btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\t\t\t\tconst entity = cms.find((cms) => cms.key === 'faqs');\n\n\t\t\t\t\t\t\t\t\tif (entity) {\n\t\t\t\t\t\t\t\t\t\tconst value = JSON.parse(entity.value) as Array<FAQ>;\n\n\t\t\t\t\t\t\t\t\t\tvalue.push({ question: '', answer: '', new: true });\n\n\t\t\t\t\t\t\t\t\t\tentity.value = JSON.stringify(value);\n\n\t\t\t\t\t\t\t\t\t\tconst index = cms.findIndex((cms) => cms.key === 'faqs');\n\n\t\t\t\t\t\t\t\t\t\tcms.splice(index, 1, entity);\n\t\t\t\t\t\t\t\t\t\tsetCMS([...cms]);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tconst value = [{ question: '', answer: '', new: true }] as Array<FAQ>;\n\n\t\t\t\t\t\t\t\t\t\tcms.push({ key: 'faqs', value: JSON.stringify(value) });\n\n\t\t\t\t\t\t\t\t\t\tsetCMS([...cms]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tAdd FAQ\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{faqs.map((faq, index) => (\n\t\t\t\t\t\t\t<FAQ\n\t\t\t\t\t\t\t\tfaq={faq}\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tonChange={async (faq, success) => {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tawait saveFAQ(faq, index);\n\t\t\t\t\t\t\t\t\t\tsuccess();\n\t\t\t\t\t\t\t\t\t\tfetchCMS();\n\t\t\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\t\t\tconsole.log(error.toJSON());\n\t\t\t\t\t\t\t\t\t\ttoastr.error('Unable to update FAQs.', 'Oops!');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdefaultMode={faq.new ? 'Edit' : 'View'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t<div style={{ position: 'relative', overflow: 'hidden', width: '100%', paddingTop: '56.25%' }}>\n\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\ttitle='CMS Preview'\n\t\t\t\t\t\t\t\tsrc={`${window.location.origin}?preview=true`}\n\t\t\t\t\t\t\t\tstyle={{ position: 'absolute', inset: 0, width: '100%', height: '100%' }}></iframe>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { Contact } from '../../../contracts/Contact';\nimport { handleError } from '../../../helpers';\nimport { Table } from '../../Shared/Table';\nimport toastr from 'toastr';\nimport dayjs from 'dayjs';\n\nexport function List() {\n\tconst [contacts, setContacts] = useState<Array<Contact>>([]);\n\tconst [processing, setProcessing] = useState(false);\n\tconst match = useRouteMatch();\n\tconst history = useHistory();\n\n\tconst path = (path: string) => `${match.path}${path}`;\n\n\tconst fetchContacts = async () => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Array<Contact>>('/contacts');\n\t\t\tsetContacts(data);\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to fetch contacts.');\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tconst deleteContact = async (id: any) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tawait axios.delete(`/contacts?id=${id}`);\n\t\t\ttoastr.success('Contact deleted successfully.');\n\t\t\tawait fetchContacts();\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\thandleError(error);\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchContacts();\n\t}, []);\n\n\treturn (\n\t\t<Table\n\t\t\ttitle='Contacts'\n\t\t\tdata={contacts.map((contact) => ({\n\t\t\t\t...contact,\n\t\t\t\tcreated_at: dayjs(contact.created_at).fromNow(),\n\t\t\t\tupdated_at: dayjs(contact.updated_at).fromNow(),\n\t\t\t\tmessage: <p className='text-muted m-0 p-0'>{contact.message.substr(0, 15)}...</p>,\n\t\t\t}))}\n\t\t\tprocessing={processing}\n\t\t\tonAddClick={() => history.push(path('add'))}\n\t\t\tonViewClick={({ id }) => {\n\t\t\t\thistory.push(path(`${id}`));\n\t\t\t}}\n\t\t\tonEditClick={() => {\n\t\t\t\t//\n\t\t\t}}\n\t\t\tonDeleteConfirm={({ id }) => {\n\t\t\t\tdeleteContact(id);\n\t\t\t}}\n\t\t\tonRefreshClick={fetchContacts}\n\t\t\twithAction={true}\n\t\t\tpagination={true}\n\t\t\tdontShowEdit={true}\n\t\t\tdisableAddButton={true}\n\t\t/>\n\t);\n}\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { Contact } from '../../../contracts/Contact';\nimport { handleError } from '../../../helpers';\nimport toastr from 'toastr';\n\nexport function View() {\n\tconst [contact, setContact] = useState<Contact | null>(null);\n\tconst history = useHistory();\n\n\tconst fetchContact = async (contactID: string) => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Contact>(`/contacts/show?id=${contactID}`);\n\t\t\tsetContact(data);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tlet deleting = false;\n\n\tconst deleteContact = async () => {\n\t\tif (deleting) {\n\t\t\treturn;\n\t\t}\n\t\tdeleting = true;\n\t\ttry {\n\t\t\tawait axios.delete(`/contacts?id=${contact?.id}`);\n\t\t\ttoastr.success('Contact deleted successfully.');\n\t\t\thistory.goBack();\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tdeleting = false;\n\t\t}\n\t};\n\n\tconst { params } = useRouteMatch<{ id: string }>();\n\n\tuseEffect(() => {\n\t\tfetchContact(params.id);\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='container'>\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-12'>\n\t\t\t\t\t<h3 className='mb-0'>View Contact</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12 d-flex'>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tBack\n\t\t\t\t\t</button>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`${window.location.pathname}/delete`}\n\t\t\t\t\t\tclassName='btn btn-danger btn-sm align-self-center ml-1'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t$('#deleteContactModal').modal('show');\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12'>\n\t\t\t\t\t{contact ? (\n\t\t\t\t\t\t<div className='card shadow rounded'>\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<h6>Name</h6>\n\t\t\t\t\t\t\t\t<p>{contact.name}</p>\n\t\t\t\t\t\t\t\t<h6>Email</h6>\n\t\t\t\t\t\t\t\t<p>{contact.email}</p>\n\t\t\t\t\t\t\t\t<h6>Message</h6>\n\t\t\t\t\t\t\t\t<p>{contact.message}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName='modal fade'\n\t\t\t\tid={`deleteContactModal`}\n\t\t\t\ttabIndex={-1}\n\t\t\t\trole='dialog'\n\t\t\t\taria-labelledby={`deleteContactModalLabel`}\n\t\t\t\taria-hidden='true'>\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\n\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteContactModalLabel`}>\n\t\t\t\t\t\t\t\tDelete Contact\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-body'>Are you sure you want to delete {contact?.name || 'this contact'}?</div>\n\t\t\t\t\t\t<div className='modal-footer'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t$('#deleteContactModal').modal('hide');\n\t\t\t\t\t\t\t\t\tdeleteContact();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tConfirm\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { List } from './List';\nimport { View } from './View';\n\nexport function Contacts() {\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path={url('/')} exact component={List} />\n\t\t\t<Route path={url('/:id')} exact component={View} />\n\t\t</Switch>\n\t);\n}\n","import axios from 'axios';\nimport React, { ChangeEvent, createRef, RefObject, useEffect, useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { DocumentType } from '../../../contracts/DocumentType';\nimport { handleError, outIf } from '../../../helpers';\nimport toastr from 'toastr';\n\nexport function Form() {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [mode, setMode] = useState('Add');\n\tconst [files, setFiles] = useState<Array<{ file: File | null; ref: RefObject<HTMLInputElement> }>>([]);\n\tconst [data, setData] = useState<DocumentType>({\n\t\tid: -1,\n\t\tname: '',\n\t\trequirements: [],\n\t\texpiry_days: 15,\n\t\ttype: 'Simple',\n\t});\n\n\tconst history = useHistory();\n\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n\t\tconst { id, value } = e.target;\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[id]: value,\n\t\t});\n\t};\n\n\tconst reset = () => setData({ name: '', id: -1, requirements: [], expiry_days: 15, type: '' });\n\n\tconst submit = async () => {\n\t\tif (processing) return;\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tconst payload = new FormData();\n\t\t\tdelete data.files;\n\t\t\tObject.entries(data).forEach(([key, value]) => payload.append(key, value));\n\n\t\t\tpayload.append('requirements', JSON.stringify(data.requirements));\n\t\t\tpayload.append('_method', mode === 'Add' ? 'post' : 'put');\n\n\t\t\tfiles.forEach((file) => {\n\t\t\t\tif (file.file instanceof File) {\n\t\t\t\t\tpayload.append('files[]', file.file);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tawait axios.post<DocumentType>('/document-types', payload);\n\t\t\ttoastr.success('Document Type saved successfully.');\n\t\t\treset();\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tconst fetchDocumentType = async (documentTypeID: string) => {\n\t\tsetMode('Edit');\n\t\ttry {\n\t\t\tconst { data } = await axios.get<DocumentType>(`/document-types/show?id=${documentTypeID}`);\n\t\t\tsetData(() => ({\n\t\t\t\t...data,\n\t\t\t\trequirements: ((requirements) => {\n\t\t\t\t\tif (!requirements) {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst data = JSON.parse(requirements as any);\n\t\t\t\t\t\tif (!data) {\n\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.log(error.toJSON());\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t\t})(data.requirements),\n\t\t\t}));\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst { params, path } = useRouteMatch<{ id: string }>();\n\n\tuseEffect(() => {\n\t\tif (path.includes('edit')) {\n\t\t\tfetchDocumentType(params.id);\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<form\n\t\t\tclassName='container'\n\t\t\tonSubmit={async (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tawait submit();\n\t\t\t}}>\n\t\t\t<div className='d-flex'>\n\t\t\t\t<h3 className='align-self-center mb-0'>{mode} Document</h3>\n\t\t\t\t<button\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t}}>\n\t\t\t\t\tBack\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='name'>Name</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tname='name'\n\t\t\t\t\tid='name'\n\t\t\t\t\tplaceholder='Name'\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\tdisabled={processing}\n\t\t\t\t\tvalue={data.name}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='expiry_days'>Work Processing Days</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='number'\n\t\t\t\t\tname='expiry_days'\n\t\t\t\t\tid='expiry_days'\n\t\t\t\t\tplaceholder='Expiry Days'\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\tdisabled={processing}\n\t\t\t\t\tvalue={data.expiry_days}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='type'>Type</label>\n\t\t\t\t<select\n\t\t\t\t\tname='type'\n\t\t\t\t\tid='type'\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\tdisabled={processing}\n\t\t\t\t\tvalue={data.type}\n\t\t\t\t\tonChange={handleChange}>\n\t\t\t\t\t<option value='Simple'>Simple</option>\n\t\t\t\t\t<option value='Complex'>Complex</option>\n\t\t\t\t\t<option value='Highly Technical'>Highly Technical</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div className='container-fluid'>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t<h4>Requirements</h4>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tdata.requirements.push('');\n\t\t\t\t\t\t\t\tsetData({ ...data });\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tAdd Requirement\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t{data.requirements.map((requirement, index) => (\n\t\t\t\t\t\t<div className='col-12' key={index}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tdata.requirements.splice(index, 1);\n\t\t\t\t\t\t\t\t\tsetData({ ...data });\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tRemove Requirement\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label>Requirement {index + 1}</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tplaceholder={`Requirement ${index + 1}`}\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={requirement}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tdata.requirements.splice(index, 1, e.target.value);\n\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t\t<div className='col-12 mt-3 d-none'>\n\t\t\t\t\t\t<h4>Forms</h4>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tfiles.push({ file: null, ref: createRef<HTMLInputElement>() });\n\t\t\t\t\t\t\t\tsetFiles([...files]);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tAdd Form\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t{files.map((file, index) => (\n\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 col-xl-3' key={index}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tfiles.splice(index, 1);\n\t\t\t\t\t\t\t\t\tsetFiles([...files]);\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tRemove Form\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\t\t\tref={file.ref}\n\t\t\t\t\t\t\t\t\tclassName={`d-none ${outIf(processing || file !== null, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing || file.file !== null}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tfiles.splice(index, 1, { file: e.target.files[0], ref: file.ref });\n\t\t\t\t\t\t\t\t\t\t\tsetFiles([...files]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-secondary btn-sm'\n\t\t\t\t\t\t\t\t\tdisabled={file.file !== null}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tif (file.file === null && file.ref.current) {\n\t\t\t\t\t\t\t\t\t\t\tfile.ref.current.click();\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('yo');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t{file.file === null ? 'Upload' : 'Uploaded'}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t\t{mode === 'Edit' && data.files && data.files.length > 0 ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className='col-12 mt-3'>\n\t\t\t\t\t\t\t\t<h4>Existing Forms</h4>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{data.files?.map((file, index) => (\n\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4' key={index}>\n\t\t\t\t\t\t\t\t\t<div className='card'>\n\t\t\t\t\t\t\t\t\t\t<div className='card-body d-flex align-items-center'>\n\t\t\t\t\t\t\t\t\t\t\t<a href={`${file.file?.url}&download=true`} target='_blank' rel='noreferrer'>\n\t\t\t\t\t\t\t\t\t\t\t\t{file.file?.name}\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm ml-auto'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (window.confirm('Delete file?')) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.info('Deleting form file.', 'Notice');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait axios.delete(`/document-types/files?id=${file.id}`);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.success('Form file deleted.');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.files?.splice(index, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\n\t\t\t\t\t{processing ? (\n\t\t\t\t\t\t<div className='spin'>\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t'Save'\n\t\t\t\t\t)}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n}\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { DocumentType } from '../../../contracts/DocumentType';\nimport { createTableColumns, except, exceptMany, ucwords } from '../../../helpers';\nimport { Table } from '../../Shared/Table';\nimport toastr from 'toastr';\nimport dayjs from 'dayjs';\n\nexport function List() {\n\tconst [documentTypes, setDocumentTypes] = useState<Array<DocumentType>>([]);\n\tconst [processing, setProcessing] = useState(false);\n\tconst match = useRouteMatch();\n\tconst history = useHistory();\n\n\tconst path = (path: string) => `${match.path}${path}`;\n\n\tconst fetchDocumentTypes = async () => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Array<DocumentType>>('/document-types');\n\t\t\tsetDocumentTypes(\n\t\t\t\texceptMany(data, ['requirements', 'files']).map((documentType) =>\n\t\t\t\t\texcept(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...documentType,\n\t\t\t\t\t\t\twork_processing_days: documentType.expiry_days,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t['expiry_days']\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to fetch Document Types.');\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tconst deleteDocumentType = async (id: any) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tawait axios.delete(`/document-types?id=${id}`);\n\t\t\ttoastr.success('Document Type deleted successfully.');\n\t\t\tawait fetchDocumentTypes();\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to delete Document Type.');\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchDocumentTypes();\n\t}, []);\n\n\treturn (\n\t\t<Table\n\t\t\ttitle='Document Types'\n\t\t\tcolumns={createTableColumns(documentTypes).map((column) => {\n\t\t\t\tif (['updated at', 'created at'].includes(column.toLowerCase())) {\n\t\t\t\t\treturn ucwords(column.split(' ')[0]);\n\t\t\t\t}\n\t\t\t\treturn column;\n\t\t\t})}\n\t\t\tdata={documentTypes.map((documentType) => ({\n\t\t\t\t...documentType,\n\t\t\t\tcreated_at: dayjs(documentType.created_at).fromNow(),\n\t\t\t\tupdated_at: dayjs(documentType.updated_at).fromNow(),\n\t\t\t}))}\n\t\t\tprocessing={processing}\n\t\t\tonAddClick={() => history.push(path('add'))}\n\t\t\tonViewClick={({ id }) => {\n\t\t\t\thistory.push(path(`${id}`));\n\t\t\t}}\n\t\t\tonEditClick={({ id }) => {\n\t\t\t\thistory.push(path(`${id}/edit`));\n\t\t\t}}\n\t\t\tonDeleteConfirm={({ id }) => {\n\t\t\t\tdeleteDocumentType(id);\n\t\t\t}}\n\t\t\tonRefreshClick={fetchDocumentTypes}\n\t\t\twithAction={true}\n\t\t\tpagination={true}\n\t\t/>\n\t);\n}\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { DocumentType } from '../../../contracts/DocumentType';\nimport { handleError } from '../../../helpers';\n\nexport function View() {\n\tconst [documentType, setDocumentType] = useState<DocumentType | null>(null);\n\tconst history = useHistory();\n\n\tconst fetchDocumentType = async (documentTypeID: string) => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get(`/document-types/show?id=${documentTypeID}`);\n\t\t\tsetDocumentType({\n\t\t\t\t...data,\n\t\t\t\trequirements: ((requirements) => {\n\t\t\t\t\tif (!requirements) {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst data = JSON.parse(requirements as any);\n\t\t\t\t\t\tif (!data) {\n\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.log(error.toJSON());\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t\t})(data.requirements),\n\t\t\t});\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst { params } = useRouteMatch<{ id: string }>();\n\n\tuseEffect(() => {\n\t\tfetchDocumentType(params.id);\n\t\t// eslint-disable-next-line\n\t}, []);\n\treturn (\n\t\t<div className='container'>\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-12'>\n\t\t\t\t\t<h3 className='mb-0'>View Document Type</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12'>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-info btn-sm'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tBack\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12'>\n\t\t\t\t\t{documentType ? (\n\t\t\t\t\t\t<div className='card shadow rounded'>\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<h6>Name</h6>\n\t\t\t\t\t\t\t\t<p>{documentType.name}</p>\n\t\t\t\t\t\t\t\t<h6>Requirements</h6>\n\t\t\t\t\t\t\t\t{documentType.requirements?.map((requirement, index) => (\n\t\t\t\t\t\t\t\t\t<p className='card-text' key={index}>\n\t\t\t\t\t\t\t\t\t\t{requirement}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { Form } from './Form';\nimport { List } from './List';\nimport { View } from './View';\n\nexport function DocumentTypes() {\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path={url('/')} exact component={List} />\n\t\t\t<Route path={url('/add')} component={Form} />\n\t\t\t<Route path={url('/:id')} exact component={View} />\n\t\t\t<Route path={url('/:id/edit')} component={Form} />\n\t\t</Switch>\n\t);\n}\n","import axios from 'axios';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport React, { useEffect, useState } from 'react';\nimport { Log } from '../contracts/Log';\nimport { handleError } from '../helpers';\n\ndayjs.extend(relativeTime);\n\nexport function Logs() {\n\tconst [logs, setLogs] = useState<Array<Log>>([]);\n\n\tconst fetchLogs = async () => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get('/logs');\n\t\t\tsetLogs([...data]);\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchLogs();\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='card w-100'>\n\t\t\t<div className='card-header'>\n\t\t\t\t<h3 className='card-title'>History Logs</h3>\n\t\t\t\t{logs.length === 0 ? <p className='card-text'>No Data</p> : null}\n\t\t\t</div>\n\t\t\t<div className='card-body table-responsive' style={{ overflowY: 'hidden' }}>\n\t\t\t\t<table className='table table-sm text-center'>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>User</th>\n\t\t\t\t\t\t\t<th>Action</th>\n\t\t\t\t\t\t\t<th>Request Type</th>\n\t\t\t\t\t\t\t<th>Requester's Name</th>\n\t\t\t\t\t\t\t<th>Date</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{[...logs].reverse().map((log, index) => (\n\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t<td>{log.user?.name}</td>\n\t\t\t\t\t\t\t\t<td>{log.action}</td>\n\t\t\t\t\t\t\t\t<td>{log.loggable?.documentType?.name}</td>\n\t\t\t\t\t\t\t\t<td>{log.loggable?.user?.name}</td>\n\t\t\t\t\t\t\t\t<td>{dayjs(log.updated_at).format('MMMM DD, YYYY hh:mm A')}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import axios from 'axios';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport React, { useEffect, useState } from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport { routes } from '../../routes';\nimport { Logs } from '../Logs';\n\ndayjs.extend(relativeTime);\n\nexport function Stats() {\n\tconst [stats, setStats] = useState({\n\t\tusers: 0,\n\t\tlogs: 0,\n\t\tapproved_requests: 0,\n\t\tpending_requests: 0,\n\t\tlast_log: null as any,\n\t});\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => {\n\t\tconst fragments = match.path.split('');\n\t\tif (fragments[fragments.length - 1] === '/') {\n\t\t\tfragments.splice(fragments.length - 1, 1);\n\t\t}\n\t\treturn `${fragments.join('')}${path}`;\n\t};\n\n\tconst fetchStats = async () => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get('/statistics');\n\t\t\tsetStats(data);\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchStats();\n\t\t// eslinst-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-lg-3 col-md-6 col-sm-6'>\n\t\t\t\t\t<div className='card card-stats'>\n\t\t\t\t\t\t<div className='card-body '>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div className='col-5 col-md-4'>\n\t\t\t\t\t\t\t\t\t<div className='icon-big text-center icon-warning'>\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-globe text-warning'></i>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col-7 col-md-8'>\n\t\t\t\t\t\t\t\t\t<div className='numbers'>\n\t\t\t\t\t\t\t\t\t\t<p className='card-category'>Pending Requests</p>\n\t\t\t\t\t\t\t\t\t\t<p className='card-title'>{stats.pending_requests}</p>\n\t\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='card-footer'>\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<Link to={url(routes.REQUESTS.ROOT)} className='stats'>\n\t\t\t\t\t\t\t\t<i className='fa fa-edit'></i>\n\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-lg-3 col-md-6 col-sm-6'>\n\t\t\t\t\t<div className='card card-stats'>\n\t\t\t\t\t\t<div className='card-body '>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div className='col-5 col-md-4'>\n\t\t\t\t\t\t\t\t\t<div className='icon-big text-center icon-warning'>\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-money-coins text-success'></i>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col-7 col-md-8'>\n\t\t\t\t\t\t\t\t\t<div className='numbers'>\n\t\t\t\t\t\t\t\t\t\t<p className='card-category'>Completed Requests</p>\n\t\t\t\t\t\t\t\t\t\t<p className='card-title'>{stats.approved_requests}</p>\n\t\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='card-footer '>\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<Link to={url(routes.REQUESTS.ROOT)} className='stats'>\n\t\t\t\t\t\t\t\t<i className='fa fa-calendar-o'></i>\n\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-lg-3 col-md-6 col-sm-6'>\n\t\t\t\t\t<div className='card card-stats'>\n\t\t\t\t\t\t<div className='card-body '>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div className='col-5 col-md-4'>\n\t\t\t\t\t\t\t\t\t<div className='icon-big text-center icon-warning'>\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-vector text-danger'></i>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col-7 col-md-8'>\n\t\t\t\t\t\t\t\t\t<div className='numbers'>\n\t\t\t\t\t\t\t\t\t\t<p className='card-category'>Total Logs</p>\n\t\t\t\t\t\t\t\t\t\t<p className='card-title'>{stats.logs}</p>\n\t\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='card-footer '>\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<div className='stats'>\n\t\t\t\t\t\t\t\t<i className='fa fa-clock-o'></i>\n\t\t\t\t\t\t\t\t{dayjs(stats.last_log ? stats.last_log.updated_at : new Date()).fromNow()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-lg-3 col-md-6 col-sm-6'>\n\t\t\t\t\t<div className='card card-stats'>\n\t\t\t\t\t\t<div className='card-body '>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div className='col-5 col-md-4'>\n\t\t\t\t\t\t\t\t\t<div className='icon-big text-center icon-warning'>\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-favourite-28 text-primary'></i>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col-7 col-md-8'>\n\t\t\t\t\t\t\t\t\t<div className='numbers'>\n\t\t\t\t\t\t\t\t\t\t<p className='card-category'>Users</p>\n\t\t\t\t\t\t\t\t\t\t<p className='card-title'>{stats.users}</p>\n\t\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='card-footer '>\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<Link to={url(routes.USERS)} className='stats'>\n\t\t\t\t\t\t\t\t<i className='fa fa-refresh'></i>\n\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Logs />\n\t\t</div>\n\t);\n}\n","import axios from 'axios';\nimport React, { ChangeEvent, useEffect, useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { User } from '../../../contracts/User';\nimport { handleError, outIf } from '../../../helpers';\nimport toastr from 'toastr';\n\nexport function Form() {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [mode, setMode] = useState('Add');\n\tconst [data, setData] = useState<User>({\n\t\tid: -1,\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\trole: 'Applicant',\n\t\tphone: '63',\n\t});\n\n\tconst history = useHistory();\n\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n\t\tconst { id, value } = e.target;\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[id]: value,\n\t\t});\n\t};\n\n\tconst reset = () => setData({ name: '', email: '', password: '', role: data.role, id: -1, phone: '63' });\n\n\tconst submit = async () => {\n\t\tif (processing) return;\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tawait (mode === 'Add' ? axios.post<User>('/users', data) : axios.put<User>('/users', data));\n\t\t\ttoastr.success('User saved successfully.');\n\t\t\tif (mode === 'Add') {\n\t\t\t\treset();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tconst fetchUser = async (userID: string) => {\n\t\tsetMode('Edit');\n\t\ttry {\n\t\t\tconst { data } = await axios.get<User>(`/users/show?id=${userID}`);\n\t\t\tdata.password = '';\n\t\t\tsetData(data);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst { params, path } = useRouteMatch<{ id: string }>();\n\n\tuseEffect(() => {\n\t\tif (path.includes('edit')) {\n\t\t\tfetchUser(params.id);\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<form\n\t\t\tclassName='container'\n\t\t\tonSubmit={async (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tawait submit();\n\t\t\t}}>\n\t\t\t<div className='d-flex'>\n\t\t\t\t<h3 className='align-self-center mb-0'>{mode} User</h3>\n\t\t\t\t<button\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t}}>\n\t\t\t\t\tBack\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='name'>Name</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tname='name'\n\t\t\t\t\tid='name'\n\t\t\t\t\tplaceholder='Name'\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\tdisabled={processing}\n\t\t\t\t\tvalue={data.name}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='email'>Email</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='email'\n\t\t\t\t\tname='email'\n\t\t\t\t\tid='email'\n\t\t\t\t\tplaceholder='Email'\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\tdisabled={processing}\n\t\t\t\t\tvalue={data.email}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='phone'>Phone</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tname='phone'\n\t\t\t\t\tid='phone'\n\t\t\t\t\tplaceholder='Phone'\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\tdisabled={processing}\n\t\t\t\t\tvalue={data.phone}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='password'>Password</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='password'\n\t\t\t\t\tname='password'\n\t\t\t\t\tid='password'\n\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\tdisabled={processing}\n\t\t\t\t\tvalue={data.password}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='role'>Role</label>\n\t\t\t\t<select name='role' id='role' className='form-control form-control-sm' value={data.role} onChange={handleChange}>\n\t\t\t\t\t{['Admin', 'Cashier', 'Evaluation', 'Director', 'Registrar', 'Releasing', 'Applicant'].map((role, index) => (\n\t\t\t\t\t\t<option value={role} key={index}>\n\t\t\t\t\t\t\t{role}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\n\t\t\t\t\t{processing ? (\n\t\t\t\t\t\t<div className='spin'>\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t'Save'\n\t\t\t\t\t)}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n}\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\nimport { User } from '../../../contracts/User';\nimport { createTableColumns, exceptMany, handleError, ucwords } from '../../../helpers';\nimport { Table } from '../../Shared/Table';\nimport toastr from 'toastr';\nimport dayjs from 'dayjs';\n\nexport function List() {\n\tconst [users, setUsers] = useState<Array<User>>([]);\n\tconst [processing, setProcessing] = useState(false);\n\tconst match = useRouteMatch();\n\tconst history = useHistory();\n\n\tconst path = (path: string) => `${match.path}${path}`;\n\n\tconst fetchUsers = async () => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Array<User>>('/users');\n\t\t\tsetUsers(exceptMany(data, ['profile_picture_id']));\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to fetch users.');\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tconst deleteUser = async (id: any) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tawait axios.delete(`/users?id=${id}`);\n\t\t\ttoastr.success('User deleted successfully.');\n\t\t\tawait fetchUsers();\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\thandleError(error);\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchUsers();\n\t}, []);\n\n\tconst getBadge = (role: Roles) => {\n\t\tif (role === 'Admin') {\n\t\t\treturn 'red';\n\t\t} else if (role === 'Applicant') {\n\t\t\treturn 'warning';\n\t\t} else {\n\t\t\treturn 'green';\n\t\t}\n\t};\n\n\treturn (\n\t\t<Table\n\t\t\ttitle='Users'\n\t\t\tcolumns={createTableColumns(users).map((column) => {\n\t\t\t\tif (['updated at', 'created at'].includes(column.toLowerCase())) {\n\t\t\t\t\treturn ucwords(column.split(' ')[0]);\n\t\t\t\t}\n\t\t\t\tif (column.toLowerCase() === 'profile picture') {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn column;\n\t\t\t})}\n\t\t\tdata={users.map((user) => ({\n\t\t\t\t...user,\n\t\t\t\tcreated_at: dayjs(user.created_at).fromNow(),\n\t\t\t\tupdated_at: dayjs(user.updated_at).fromNow(),\n\t\t\t\trole: <span className={`badge badge-${getBadge(user.role)}`}>{user.role}</span>,\n\t\t\t\tprofilePicture: (\n\t\t\t\t\t<Link to={path(`${user.id}`)}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={user.profilePicture?.url || 'https://via.placeholder.com/40'}\n\t\t\t\t\t\t\tclassName='rounded-circle shadow-sm border img-fluid d-none d-xl-block'\n\t\t\t\t\t\t\tstyle={{ height: '40px', width: '40px' }}\n\t\t\t\t\t\t\talt='Profile'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Link>\n\t\t\t\t),\n\t\t\t}))}\n\t\t\tprocessing={processing}\n\t\t\tonAddClick={() => history.push(path('add'))}\n\t\t\tonViewClick={({ id }) => {\n\t\t\t\thistory.push(path(`${id}`));\n\t\t\t}}\n\t\t\tonEditClick={({ id }) => {\n\t\t\t\thistory.push(path(`${id}/edit`));\n\t\t\t}}\n\t\t\tonDeleteConfirm={({ id }) => {\n\t\t\t\tdeleteUser(id);\n\t\t\t}}\n\t\t\tonRefreshClick={fetchUsers}\n\t\t\twithAction={true}\n\t\t\tpagination={true}\n\t\t/>\n\t);\n}\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\nimport { User } from '../../../contracts/User';\nimport { handleError } from '../../../helpers';\nimport toastr from 'toastr';\n\nexport function View() {\n\tconst [user, setUser] = useState<User | null>(null);\n\tconst history = useHistory();\n\n\tconst fetchUser = async (userID: string) => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get<User>(`/users/show?id=${userID}`);\n\t\t\tsetUser(data);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tlet deleting = false;\n\n\tconst deleteUser = async () => {\n\t\tif (deleting) {\n\t\t\treturn;\n\t\t}\n\t\tdeleting = true;\n\t\ttry {\n\t\t\tawait axios.delete(`/users?id=${user?.id}`);\n\t\t\ttoastr.success('User deleted successfully.');\n\t\t\thistory.goBack();\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tdeleting = false;\n\t\t}\n\t};\n\n\tconst { params } = useRouteMatch<{ id: string }>();\n\n\tuseEffect(() => {\n\t\tfetchUser(params.id);\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\tconst profileURL = user?.profilePicture?.url || 'https://via.placeholder.com/200';\n\n\treturn (\n\t\t<div className='container'>\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-12'>\n\t\t\t\t\t<h3 className='mb-0'>View User</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12 d-flex'>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tBack\n\t\t\t\t\t</button>\n\t\t\t\t\t<Link to={`${window.location.pathname}/edit`} className='btn btn-warning btn-sm align-self-center ml-auto'>\n\t\t\t\t\t\tEdit\n\t\t\t\t\t</Link>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={`${window.location.pathname}/delete`}\n\t\t\t\t\t\tclassName='btn btn-danger btn-sm align-self-center ml-1'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t$('#deleteUserModal').modal('show');\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12'>\n\t\t\t\t\t{user ? (\n\t\t\t\t\t\t<div className='card shadow rounded'>\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={profileURL}\n\t\t\t\t\t\t\t\t\talt='Profile'\n\t\t\t\t\t\t\t\t\tclassName='img-fluid rounded-circle mb-3'\n\t\t\t\t\t\t\t\t\tstyle={{ height: '50px', width: '50px' }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<h6>Name</h6>\n\t\t\t\t\t\t\t\t<p>{user.name}</p>\n\t\t\t\t\t\t\t\t<h6>Email</h6>\n\t\t\t\t\t\t\t\t<p>{user.email}</p>\n\t\t\t\t\t\t\t\t<h6>Phone</h6>\n\t\t\t\t\t\t\t\t<p>{user.phone}</p>\n\t\t\t\t\t\t\t\t<h6>Role</h6>\n\t\t\t\t\t\t\t\t<p>{user.role}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName='modal fade'\n\t\t\t\tid={`deleteUserModal`}\n\t\t\t\ttabIndex={-1}\n\t\t\t\trole='dialog'\n\t\t\t\taria-labelledby={`deleteUserModalLabel`}\n\t\t\t\taria-hidden='true'>\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\n\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteUserModalLabel`}>\n\t\t\t\t\t\t\t\tDelete User\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-body'>Are you sure you want to delete {user?.name || 'this user'}?</div>\n\t\t\t\t\t\t<div className='modal-footer'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t$('#deleteUserModal').modal('hide');\n\t\t\t\t\t\t\t\t\tdeleteUser();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tConfirm\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { Form } from './Form';\nimport { List } from './List';\nimport { View } from './View';\n\nexport function Users() {\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path={url('/')} exact component={List} />\n\t\t\t<Route path={url('/add')} component={Form} />\n\t\t\t<Route path={url('/:id')} exact component={View} />\n\t\t\t<Route path={url('/:id/edit')} component={Form} />\n\t\t</Switch>\n\t);\n}\n","import React from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { routes } from '../../routes';\nimport { Requests } from '../Shared/Requests';\nimport { CMS } from './CMS';\nimport { Contacts } from './Contacts';\nimport { DocumentTypes } from './DocumentTypes';\nimport { Stats } from './Stats';\nimport { Users } from './Users/index';\n\nexport function Admin() {\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path={url('/')} exact component={Stats} />\n\t\t\t<Route path={url(routes.USERS)} component={Users} />\n\t\t\t<Route path={url(routes.DOCUMENT_TYPES)} component={DocumentTypes} />\n\t\t\t<Route path={url(routes.REQUESTS.ROOT)} component={Requests} />\n\t\t\t<Route path={url(routes.CMS)} component={CMS} />\n\t\t\t<Route path={url(routes.CONTACTS)} component={Contacts} />\n\t\t</Switch>\n\t);\n}\n","import React from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport { outIf } from '../../helpers';\nimport { routes } from '../../routes';\n\nexport function AdminSidebar() {\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\tconst links = [\n\t\t{\n\t\t\turl: routes.DASHBOARD,\n\t\t\ticon: 'nc-icon nc-bank',\n\t\t\ttitle: 'Dashboard',\n\t\t},\n\t\t{\n\t\t\turl: url(routes.DOCUMENT_TYPES),\n\t\t\ticon: 'nc-icon nc-book-bookmark',\n\t\t\ttitle: 'Document Types',\n\t\t},\n\t\t{\n\t\t\turl: url(routes.REQUESTS.ROOT),\n\t\t\ticon: 'nc-icon nc-tag-content',\n\t\t\ttitle: 'Requests',\n\t\t},\n\t\t{\n\t\t\turl: url(`${routes.REQUESTS.ROOT}${routes.REQUESTS.INACTIVE}`),\n\t\t\ticon: 'nc-icon nc-calendar-60',\n\t\t\ttitle: 'Inactive Requests',\n\t\t},\n\t\t{\n\t\t\turl: url(`${routes.REQUESTS.ROOT}${routes.REQUESTS.ARCHIVED}`),\n\t\t\ticon: 'nc-icon nc-box-2',\n\t\t\ttitle: 'Repository',\n\t\t},\n\t\t{\n\t\t\turl: url(routes.USERS),\n\t\t\ticon: 'nc-icon nc-single-02',\n\t\t\ttitle: 'Users',\n\t\t},\n\t\t{\n\t\t\turl: url(routes.CMS),\n\t\t\ticon: 'nc-icon nc-layout-11',\n\t\t\ttitle: 'Customization',\n\t\t},\n\t\t{\n\t\t\turl: url(routes.CONTACTS),\n\t\t\ticon: 'nc-icon nc-single-copy-04',\n\t\t\ttitle: 'Contacts',\n\t\t},\n\t];\n\n\treturn (\n\t\t<div className='sidebar-wrapper bg-maroon' style={{ overflowX: 'hidden' }}>\n\t\t\t<ul className='nav'>\n\t\t\t\t{links.map((link, index) => (\n\t\t\t\t\t<li className={outIf(link.url === window.location.pathname, 'active')}  key={index}>\n\t\t\t\t\t\t<Link to={link.url}>\n\t\t\t\t\t\t\t<i className= {link.icon} ></i>\n\t\t\t\t\t\t\t<p>{link.title}</p>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { routes } from '../../routes';\nimport { Stats } from '../Admin/Stats';\nimport { Requests } from '../Shared/Requests';\n\nexport function Cashier() {\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path={url('/')} exact component={Stats} />\n\t\t\t<Route path={url(routes.REQUESTS.ROOT)} component={Requests} />\n\t\t</Switch>\n\t);\n}\n","import React from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport { outIf } from '../../helpers';\nimport { routes } from '../../routes';\n\nexport function CashierSidebar() {\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\tconst links = [\n\t\t{\n\t\t\turl: routes.DASHBOARD,\n\t\t\ticon: 'nc-icon nc-bank',\n\t\t\ttitle: 'Dashboard',\n\t\t},\n\t\t{\n\t\t\turl: url(routes.REQUESTS.ROOT),\n\t\t\ticon: 'nc-icon nc-tag-content',\n\t\t\ttitle: 'Requests',\n\t\t},\n\t];\n\n\treturn (\n\t\t<div className='sidebar-wrapper' style={{ overflowX: 'hidden' }}>\n\t\t\t<ul className='nav'>\n\t\t\t\t{links.map((link, index) => (\n\t\t\t\t\t<li className={outIf(link.url === window.location.pathname, 'active')} key={index}>\n\t\t\t\t\t\t<Link to={link.url}>\n\t\t\t\t\t\t\t<i className={link.icon}></i>\n\t\t\t\t\t\t\t<p>{link.title}</p>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n","import axios from 'axios';\nimport React, { ChangeEvent, createRef, useEffect, useState } from 'react';\nimport { User } from '../contracts/User';\nimport { handleError, outIf } from '../helpers';\nimport state from '../state';\nimport toastr from 'toastr';\nimport { Link } from 'react-router-dom';\n\nexport function Profile() {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [data, setData] = useState(state.get<User>('user'));\n\tconst [profileURL, setProfileURL] = useState(data.profilePicture?.url || 'https://via.placeholder.com/200');\n\tconst user = data;\n\n\tconst fileRef = createRef<HTMLInputElement>();\n\n\tconst reader = new FileReader();\n\n\tlet changingProfile = false;\n\n\treader.onload = async (e) => {\n\t\tif (e.target && e.target.result) {\n\t\t\tif (changingProfile) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tchangingProfile = true;\n\t\t\ttry {\n\t\t\t\tconst { data } = await axios.put<User>('/self/profile', {\n\t\t\t\t\tfile: String(e.target.result),\n\t\t\t\t});\n\n\t\t\t\tsetProfileURL(data.profilePicture?.url || 'https://via.placeholder.com/200');\n\n\t\t\t\tstate.set('user', data);\n\n\t\t\t\ttoastr.info('Profile picture saved.', 'Info');\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t\thandleError(error);\n\t\t\t} finally {\n\t\t\t\t$<HTMLFormElement>('#file-upload')[0].reset();\n\t\t\t\tchangingProfile = false;\n\t\t\t}\n\t\t}\n\t};\n\n\tconst submit = async () => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tconst response = await axios.put<User>(`/self`, data);\n\t\t\tstate.set('user', response.data);\n\t\t\ttoastr.info('Profile updated successfully.', 'Info');\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\t$('.main-panel').removeClass('h-100');\n\t\tconst key = state.listen<User>('user', (user) => {\n\t\t\tsetData({ ...data });\n\t\t});\n\t\treturn () => {\n\t\t\tstate.unlisten('user', key);\n\t\t};\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n\t\tconst { id, value } = e.target;\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[id]: value,\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className='row'>\n\t\t\t<div className='col-md-4'>\n\t\t\t\t<div className='card card-user w-100'>\n\t\t\t\t\t<div className='image'>\n\t\t\t\t\t\t<img src='/assets/img/damir-bosnjak.jpg' alt='...' />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t<div className='author'>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={window.location.pathname}\n\t\t\t\t\t\t\t\ttitle='Change Profile Picture'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tfileRef.current?.click();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<img className='avatar border-gray shadow-sm' src={profileURL} alt='...' />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<Link to={window.location.pathname}>\n\t\t\t\t\t\t\t\t<h5 className='title'>{user.name}</h5>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<p className='description'>@{user.name.split(' ').join('').toLowerCase()}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='card-footer'>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<div className='button-container'>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div className='col-lg-3 col-md-6 col-6 ml-auto'>\n\t\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t\t12\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t<small>Files</small>\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col-lg-4 col-md-6 col-6 ml-auto mr-auto'>\n\t\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t<small>Requests</small>\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col-lg-3 mr-auto'>\n\t\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t\t5\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t<small>Logins</small>\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='col-md-8'>\n\t\t\t\t<div className='card card-user'>\n\t\t\t\t\t<div className='card-header'>\n\t\t\t\t\t\t<h5 className='card-title'>Edit Profile</h5>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t<form id='file-upload' onSubmit={(e) => e.preventDefault()}>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\t\tref={fileRef}\n\t\t\t\t\t\t\t\tclassName='d-none'\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0) {\n\t\t\t\t\t\t\t\t\t\treader.readAsDataURL(e.target.files[0]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\taccept='image/*'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tonSubmit={async (e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tawait submit();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='name'>Name</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\t\t\tid='name'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Name'\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.name}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='email'>Email</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.email}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='phone'>Phone</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\tname='phone'\n\t\t\t\t\t\t\t\t\t\t\tid='phone'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Phone'\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.phone}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='password'>Password</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.password}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div className='update ml-auto mr-auto'>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-primary btn-round text-center ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '160px' }}\n\t\t\t\t\t\t\t\t\t\tdisabled={processing}>\n\t\t\t\t\t\t\t\t\t\t{processing ? (\n\t\t\t\t\t\t\t\t\t\t\t<div className='spin'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t'Update Profile'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\n\nexport function Footer() {\n\treturn (\n\t\t<footer className='footer d-none' style={{ position: 'absolute', bottom: 0, width: '-webkit-fill-available' }}>\n\t\t\t<div className='container-fluid'>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<nav className='footer-nav'>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref='/'\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tBlog\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref='/'\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tLicenses\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</nav>\n\t\t\t\t\t<div className='credits ml-auto'>\n\t\t\t\t\t\t<span className='copyright'>\n\t\t\t\t\t\t\t 2020, made with <i className='fa fa-heart heart'></i> by JMM\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</footer>\n\t);\n}\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\nimport { outIf, sentencify } from '../../helpers';\nimport { routes } from '../../routes';\nimport state from '../../state';\nimport toastr from 'toastr';\nimport { Request } from '../../contracts/Request';\nimport { User } from '../../contracts/User';\n\nexport function Header() {\n\tconst [expiring, setExpiring] = useState<Request[]>([]);\n\tconst [almostExpiring, setAlmostExpiring] = useState<Request[]>([]);\n\tconst match = useRouteMatch();\n\n\tconst fragments = match.path.split('/');\n\n\tconst title = sentencify(fragments[fragments.length - 1]);\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\tconst history = useHistory();\n\n\tconst user = state.get<User>('user');\n\n\tconst logout = async () => {\n\t\ttry {\n\t\t\tawait axios.post('/auth/logout');\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t} finally {\n\t\t\tstate.clear();\n\t\t\thistory.push(routes.LOGIN);\n\t\t\ttoastr.info('Logged out successfully.', 'Info');\n\t\t}\n\t};\n\n\tconst fetchExpiring = async () => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Request[]>(`/requests/expiring`);\n\t\t\tif (user.role === 'Applicant' && data.length > 0) {\n\t\t\t\treturn setExpiring(Array.from(data.filter((request) => request.user_id === user.id)));\n\t\t\t}\n\t\t\tsetExpiring(Array.from(data));\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t}\n\t};\n\n\tconst fetchAlmostExpiring = async () => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Request[]>(`/requests/almost-expiring`);\n\t\t\tif (user.role === 'Applicant' && data.length > 0) {\n\t\t\t\treturn setAlmostExpiring(Array.from(data.filter((request) => request.user_id === user.id)));\n\t\t\t}\n\t\t\tsetAlmostExpiring(Array.from(data));\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tconst expiringHandle = setInterval(() => fetchExpiring(), 180000);\n\t\tconst almostExpiringHandle = setInterval(() => fetchAlmostExpiring(), 180000);\n\n\t\treturn () => {\n\t\t\tclearInterval(expiringHandle);\n\t\t\tclearInterval(almostExpiringHandle);\n\t\t};\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<nav className='navbar navbar-expand-lg navbar-absolute fixed-top navbar-transparent '>\n\t\t\t<div className='container-fluid bg-grad'>\n\t\t\t\t<div className='navbar-wrapper'>\n\t\t\t\t\t<div className='navbar-toggle'>\n\t\t\t\t\t\t<button type='button' className='navbar-toggler'>\n\t\t\t\t\t\t\t<span className='navbar-toggler-bar bar1'></span>\n\t\t\t\t\t\t\t<span className='navbar-toggler-bar bar2'></span>\n\t\t\t\t\t\t\t<span className='navbar-toggler-bar bar3'></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a className='navbar-brand' href='/' onClick={(e) => e.preventDefault()}>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\tclassName='navbar-toggler'\n\t\t\t\t\ttype='button'\n\t\t\t\t\tdata-toggle='collapse'\n\t\t\t\t\tdata-target='#navigation'\n\t\t\t\t\taria-controls='navigation-index'\n\t\t\t\t\taria-expanded='false'\n\t\t\t\t\taria-label='Toggle navigation'>\n\t\t\t\t\t<span className='navbar-toggler-bar navbar-kebab'></span>\n\t\t\t\t\t<span className='navbar-toggler-bar navbar-kebab'></span>\n\t\t\t\t\t<span className='navbar-toggler-bar navbar-kebab'></span>\n\t\t\t\t</button>\n\t\t\t\t<div className='collapse navbar-collapse justify-content-end' id='navigation'>\n\t\t\t\t\t{/* <form>\n\t\t\t\t\t\t<div className='input-group no-border'>\n\t\t\t\t\t\t\t<input type='text' className='form-control' placeholder='Search...' />\n\t\t\t\t\t\t\t<div className='input-group-append'>\n\t\t\t\t\t\t\t\t<div className='input-group-text'>\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-zoom-split'></i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form> */}\n\t\t\t\t\t<ul className='navbar-nav'>\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName={`nav-item btn-rotate dropdown ${outIf(\n\t\t\t\t\t\t\t\texpiring.length === 0 && almostExpiring.length === 0,\n\t\t\t\t\t\t\t\t'd-none'\n\t\t\t\t\t\t\t)}`}>\n\t\t\t\t\t\t\t<a className='nav-link dropdown-toggle' href='/' data-toggle='dropdown' aria-expanded='false'>\n\t\t\t\t\t\t\t\t<i className='nc-icon nc-bell-55'></i>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<span className='d-lg-none d-md-block'>Notifications</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<div className='dropdown-menu dropdown-menu-right p-0'>\n\t\t\t\t\t\t\t\t{expiring.map((request, index) => (\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tclassName='dropdown-item d-flex'\n\t\t\t\t\t\t\t\t\t\tto={`${routes.DASHBOARD}${routes.REQUESTS.ROOT}/${request.id}`}\n\t\t\t\t\t\t\t\t\t\tkey={index}>\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-key-25 align-self-center mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t<span className='align-self-center'>Request for user {request.user?.name} has expired.</span>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t{almostExpiring.map((request, index) => (\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tclassName='dropdown-item d-flex'\n\t\t\t\t\t\t\t\t\t\tto={`${routes.DASHBOARD}${routes.REQUESTS.ROOT}/${request.id}`}\n\t\t\t\t\t\t\t\t\t\tkey={index}>\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-key-25 align-self-center mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t<span className='align-self-center'>Request for user {request.user?.name} is about to expire.</span>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='nav-item btn-rotate dropdown'>\n\t\t\t\t\t\t\t<a className='nav-link dropdown-toggle' href='/' data-toggle='dropdown' aria-expanded='false'>\n\t\t\t\t\t\t\t\t<i className='nc-icon nc-circle-10'></i>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<span className='d-lg-none d-md-block'>Account</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<div className='dropdown-menu dropdown-menu-right p-0' aria-labelledby='navbarDropdownMenuLink'>\n\t\t\t\t\t\t\t\t<Link to={url(routes.PROFILE)} className='dropdown-item d-flex'>\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-single-02 align-self-center mr-1'></i>\n\t\t\t\t\t\t\t\t\t<span className='align-self-center'>Profile</span>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclassName='dropdown-item d-flex'\n\t\t\t\t\t\t\t\t\thref={'/logout'}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tlogout();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-key-25 align-self-center mr-1'></i>\n\t\t\t\t\t\t\t\t\t<span className='align-self-center'>Logout</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n\t);\n}\n","import axios from 'axios';\nimport React, { ChangeEvent, createRef, RefObject, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { handleError, outIf } from '../../../helpers';\nimport toastr from 'toastr';\nimport { Request } from '../../../contracts/Request';\nimport state from '../../../state';\nimport { User } from '../../../contracts/User';\nimport { DocumentType } from '../../../contracts/DocumentType';\n\nexport function Form() {\n\tconst [processing, setProcessing] = useState(true);\n\tconst [data, setData] = useState<any>({\n\t\tdocument_type_id: -1,\n\t\tapproved: false,\n\t\tstatus: 'Received',\n\t\tuser_id: state.get<User>('user').id,\n\t\tcopies: 1,\n\t\treason: '',\n\t\tacknowledged_dates: JSON.stringify([]),\n\t});\n\tconst [refs, setRefs] = useState<RefObject<HTMLInputElement>[]>([]);\n\tconst [files, setFiles] = useState<(File | null)[]>([]);\n\tconst [types, setTypes] = useState<Array<DocumentType>>([]);\n\n\tconst history = useHistory();\n\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n\t\tconst { id, value } = e.target;\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[id]: value,\n\t\t});\n\t};\n\n\tconst fetchTypes = async () => {\n\t\ttry {\n\t\t\tconst response = await axios.get<Array<DocumentType>>('/document-types');\n\t\t\tif (response.data.length === 0) {\n\t\t\t\ttoastr.info('There are no available documents that you can request right now. Please try again later.', 'Notice');\n\t\t\t\treturn history.goBack();\n\t\t\t}\n\t\t\tsetTypes(response.data);\n\t\t\tsetData({ ...data, document_type_id: response.data[0].id as number });\n\t\t\tsetProcessing(false);\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to connect to server. Please try again later.');\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchTypes();\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\tconst user = state.get<User>('user');\n\n\tconst createTask = async (title: string, request: Request) => {\n\t\ttry {\n\t\t\tawait axios.post(`/requests/tasks`, {\n\t\t\t\tfor: 'Received',\n\t\t\t\ttitle,\n\t\t\t\trequest_id: request.id,\n\t\t\t\tdone: false,\n\t\t\t\tname: user.name,\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t}\n\t};\n\n\tconst submit = async () => {\n\t\tif (processing) return;\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tconst payload = new FormData();\n\n\t\t\tfor (const key in data) {\n\t\t\t\tpayload.append(key, data[key]);\n\t\t\t}\n\n\t\t\tfiles.filter((file) => file instanceof File).forEach((file) => payload.append('files[]', file!));\n\n\t\t\tconst { data: request } = await axios.post<Request>('/requests', payload);\n\n\t\t\tif (request.documentType) {\n\t\t\t\tawait Promise.all(\n\t\t\t\t\tArray.from<string>(JSON.parse((request.documentType?.requirements as any) || '[]')).map((requirement) =>\n\t\t\t\t\t\tcreateTask(requirement, request)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tsetFiles([]);\n\t\t\ttoastr.success('Request created successfully.');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<form\n\t\t\tclassName='container text-yellow'\n\t\t\tonSubmit={async (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tawait submit();\n\t\t\t}}>\n\t\t\t<div className='d-flex'>\n\t\t\t\t<h3 className='align-self-center mb-0 text-yellow'>Create Request</h3>\n\t\t\t\t<button\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t}}>\n\t\t\t\t\tBack\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className='form-group text-yellow'>\n\t\t\t\t<label htmlFor='document_type_id'>Document Type</label>\n\t\t\t\t<select\n\t\t\t\t\tname='document_type_id'\n\t\t\t\t\tid='document_type_id'\n\t\t\t\t\tclassName='form-control form-control-sm'\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tvalue={data.document_type_id}>\n\t\t\t\t\t{types.map((type, index) => (\n\t\t\t\t\t\t<option key={index} value={type.id}>\n\t\t\t\t\t\t\t{type.name}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='copies '>Copies</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='number'\n\t\t\t\t\tname='copies'\n\t\t\t\t\tid='copies'\n\t\t\t\t\tplaceholder='Copies'\n\t\t\t\t\tclassName='form-control form-control-sm'\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tvalue={data.copies}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<label htmlFor='reason'>Reason</label>\n\t\t\t\t<select\n\t\t\t\t\tname='reason'\n\t\t\t\t\tid='reason'\n\t\t\t\t\tplaceholder='Reason'\n\t\t\t\t\tclassName='form-control form-control-sm'\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tvalue={data.reason}\n\t\t\t\t>\n\t\t\t\t\t<option key=\"Readmission\" value=\"Readmission\">\n\t\t\t\t\t\t\tReadmission\n\t\t\t\t\t</option>\n\t\t\t\t\t<option key=\"Employment - Local\" value=\"Employment - Local\">\n\t\t\t\t\t\t\tEmployment - Local\n\t\t\t\t\t</option>\n\t\t\t\t\t<option key=\"Employment - Abroad\" value=\"Employment - Abroad\">\n\t\t\t\t\t\t\tEmployment - Abroad\n\t\t\t\t\t</option>\n\t\t\t\t\t<option key=\"Transfer to other School\" value=\"Transfer to other School\">\n\t\t\t\t\t\t\tTransfer to other School\n\t\t\t\t\t</option>\n\t\t\t\t\t<option key=\"Further Studies\" value=\"Further Studies\">\n\t\t\t\t\t\t\tFurther Studies\n\t\t\t\t\t</option>\n\t\t\t\t\t<option key=\"Job Promotion\" value=\"Job Promotion\">\n\t\t\t\t\t\t\tJob Promotion\n\t\t\t\t\t</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div className='container-fluid'>\n\t\t\t\t<h6>Requirements</h6>\n\t\t\t\t{((requirements) => {\n\t\t\t\t\tif (!requirements) {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst data = JSON.parse(requirements as any);\n\t\t\t\t\t\tif (!data) {\n\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn data as string[];\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.log(error.toJSON());\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t\t})(types.find((type) => Number(type.id) === Number(data.document_type_id))?.requirements || '').map(\n\t\t\t\t\t(requirement, index) => (\n\t\t\t\t\t\t<p key={index}>{requirement}</p>\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t\t<h6>Compliance</h6>\n\t\t\t\t<div className='container'>\n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\trefs.push(createRef());\n\t\t\t\t\t\t\t\t\tsetRefs([...refs]);\n\t\t\t\t\t\t\t\t\tfiles.push(null);\n\t\t\t\t\t\t\t\t\tsetFiles([...files]);\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tAdd File\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{refs.map((ref, index) => (\n\t\t\t\t\t\t\t<div className='col-12 col-md-4 col-lg-3 col-xl-2 p-2 border rounded' key={index}>\n\t\t\t\t\t\t\t\t<p>{files[index] ? files[index]?.name : ''}</p>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={`btn ${files[index] === null ? 'btn-secondary' : 'btn-danger'} btn-sm`}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tif (files[index] === null) {\n\t\t\t\t\t\t\t\t\t\t\tref.current?.click();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tfiles.splice(index, 1);\n\t\t\t\t\t\t\t\t\t\t\tsetFiles([...files]);\n\t\t\t\t\t\t\t\t\t\t\trefs.splice(index, 1);\n\t\t\t\t\t\t\t\t\t\t\tsetRefs([...refs]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t{files[index] === null ? 'Upload' : 'Remove'}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\t\t\tclassName='d-none'\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tfiles.splice(index, 1, e.target.files[0]);\n\t\t\t\t\t\t\t\t\t\t\tsetFiles([...files]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='form-group'>\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\n\t\t\t\t\t{processing ? (\n\t\t\t\t\t\t<div className='spin'>\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t'Save'\n\t\t\t\t\t)}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n}\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { exceptMany } from '../../../helpers';\nimport { Table } from '../../Shared/Table';\nimport toastr from 'toastr';\nimport dayjs from 'dayjs';\nimport { Request } from '../../../contracts/Request';\nimport { TrackRequest } from '../../TrackRequest';\n\nexport function List() {\n\tconst [requests, setRequests] = useState<Array<Request>>([]);\n\tconst [processing, setProcessing] = useState(false);\n\tconst match = useRouteMatch();\n\tconst history = useHistory();\n\n\tconst path = (path: string) => `${match.path}${path}`;\n\n\tconst fetchRequests = async () => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Array<Request>>('/self/requests');\n\t\t\tsetRequests(exceptMany(data, ['document_type_id', 'file_id', 'user_id', 'file', 'acknowledged_dates', 'for']));\n\t\t} catch (error: any) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to fetch requests.');\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchRequests();\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<TrackRequest />\n\t\t\t<Table\n\t\t\t\ttitle='Requests'\n\t\t\t\tdata={exceptMany(\n\t\t\t\t\trequests.map((request) => ({\n\t\t\t\t\t\t...request,\n\t\t\t\t\t\tdocumentType: request.documentType!.name,\n\t\t\t\t\t\tapproved: request.approved ? 'Yes' : 'No',\n\t\t\t\t\t\texpired: request.expired ? (\n\t\t\t\t\t\t\t<span className='badge badge-red'>Yes</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span className='badge badge-green'>No</span>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tcreated_at: dayjs(request.created_at).fromNow(),\n\t\t\t\t\t\tupdated_at: dayjs(request.updated_at).fromNow(),\n\t\t\t\t\t\tacknowledged: request.acknowledged ? (\n\t\t\t\t\t\t\t<span className='badge badge-green'>Yes</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span className='badge badge-red'>No</span>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tstatus:\n\t\t\t\t\t\t\trequest.acknowledged && !request.rejected ? (\n\t\t\t\t\t\t\t\t<span className='badge badge-green'>{request.status}</span>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span className='badge badge-danger'>{request.rejected ? 'Rejected' : 'Pending'}</span>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t})),\n\t\t\t\t\t['rejected']\n\t\t\t\t)}\n\t\t\t\tprocessing={processing}\n\t\t\t\tonAddClick={() => history.push(path('add'))}\n\t\t\t\tonViewClick={({ id }) => {\n\t\t\t\t\thistory.push(path(`${id}`));\n\t\t\t\t}}\n\t\t\t\tonEditClick={() => {}}\n\t\t\t\tonDeleteConfirm={() => {}}\n\t\t\t\tonRefreshClick={fetchRequests}\n\t\t\t\twithAction={true}\n\t\t\t\tpagination={true}\n\t\t\t\tdontShowEdit={true}\n\t\t\t\tdontShowDelete={true}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\nimport toastr from 'toastr';\nimport { statuses } from '../../../constants';\nimport { AcknowledgedDate, Request } from '../../../contracts/Request';\nimport { User } from '../../../contracts/User';\nimport { handleError } from '../../../helpers';\nimport state from '../../../state';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\ndayjs.extend(relativeTime);\n\nexport function View() {\n\tconst [request, setRequest] = useState<Request | null>(null);\n\tconst history = useHistory();\n\tconst [feedback, setFeedback] = useState('');\n\n\tconst fetchRequest = async (requestID: string) => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Request>(`/requests/show?id=${requestID}`);\n\t\t\tsetRequest(data);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst user = state.get<User>('user');\n\n\tlet deleting = false;\n\n\tconst deleteRequest = async () => {\n\t\tif (deleting) {\n\t\t\treturn;\n\t\t}\n\t\tdeleting = true;\n\t\ttry {\n\t\t\tawait axios.delete(`/requests?id=${request?.id}`);\n\t\t\ttoastr.success('Request deleted successfully.');\n\t\t\thistory.goBack();\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tdeleting = false;\n\t\t}\n\t};\n\n\tconst makeStatuses = (status: RequestStatus) => {\n\t\tconst level = ((status) => {\n\t\t\tswitch (status) {\n\t\t\t\tcase 'Received':\n\t\t\t\t\treturn 1;\n\t\t\t\tcase 'Payment':\n\t\t\t\t\treturn 2;\n\t\t\t\tcase 'Evaluating':\n\t\t\t\t\treturn 3;\n\t\t\t\tcase 'Evaluated':\n\t\t\t\t\treturn 4;\n\t\t\t\tcase 'Signed':\n\t\t\t\t\treturn 4;\n\t\t\t\tcase 'Releasing':\n\t\t\t\t\treturn 4;\n\t\t\t\tcase 'Released':\n\t\t\t\t\treturn 5;\n\t\t\t\tdefault:\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t})(status);\n\n\t\treturn {\n\t\t\tstatuses: statuses.filter((status) => !['Released', 'Evaluated'].includes(status)),\n\t\t\tlevel,\n\t\t};\n\t};\n\n\tconst { params } = useRouteMatch<{ id: string }>();\n\tconst origin = window.location.origin;\n\tconst exportToPDF = async () => {\n\t\tconst card = $(String($('#request-card')[0].innerHTML));\n\n\t\tcard.find('button').remove();\n\t\tcard.find('.bi-plus-circle').remove();\n\t\tcard.find('i[title=\"Mark as Not Done\"]').remove();\n\t\tcard.find('i[title=\"Mark as Done\"]').remove();\n\t\tcard.find('i[title=\"Edit\"]').remove();\n\t\tcard.find('i[title=\"Delete\"]').remove();\n\n\t\tconst iframe = $('#iframe')[0] as HTMLIFrameElement;\n\t\tconst css = [\n\t\t\t'https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css',\n\t\t\t'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css',\n\t\t\t'https://fonts.googleapis.com/css?family=Montserrat:400,700,200',\n\t\t\torigin + '/assets/css/bootstrap.min.css',\n\t\t\torigin + '/assets/css/paper-dashboard.css',\n\t\t\torigin + '/assets/demo/demo.css',\n\t\t];\n\t\tconst window = iframe.contentWindow;\n\n\t\twindow?.document.open();\n\n\t\tif (window && window.document) {\n\t\t\twindow.document.write('<head>');\n\n\t\t\tconst parsed = await Promise.all(\n\t\t\t\tcss.map(async (url) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst { data } = await axios.get<string>(url);\n\t\t\t\t\t\treturn `<style>${data}</style>`;\n\t\t\t\t\t} catch (_) {\n\t\t\t\t\t\treturn `<link href=\"${url}\" rel=\"stylesheet\" />`;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tconsole.log(parsed);\n\n\t\t\tparsed.forEach((css) => {\n\t\t\t\twindow.document.write(css);\n\t\t\t});\n\t\t\twindow.document.write('</head>');\n\n\t\t\twindow.document.write('<body>');\n\t\t\twindow.document.write(card.html());\n\t\t\twindow.document.write('</body>');\n\t\t\twindow.document.close();\n\t\t\twindow.focus();\n\t\t\tsetTimeout(() => {\n\t\t\t\twindow.print();\n\t\t\t}, 500);\n\t\t}\n\t};\n\n\tconst sendFeedback = async () => {\n\t\ttry {\n\t\t\tawait axios.put(`/requests?id=${request?.id}`, {\n\t\t\t\tevaluation: feedback,\n\t\t\t});\n\t\t\tsetRequest({\n\t\t\t\t...request!,\n\t\t\t\tevaluation: feedback,\n\t\t\t});\n\t\t\ttoastr.success('Feedback sent successfully!');\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to send feedback.');\n\t\t}\n\t};\n\n\tconst findDate = (status: string) => {\n\t\tconst dates = Array.from<AcknowledgedDate>(JSON.parse(request?.acknowledged_dates || '[]'));\n\t\treturn dates.find((date) => date.status === status);\n\t};\n\n\tuseEffect(() => {\n\t\tfetchRequest(params.id);\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='container'>\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-12'>\n\t\t\t\t\t<h3 className='mb-0'>View Request</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12 d-flex'>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tBack\n\t\t\t\t\t</button>\n\t\t\t\t\t{user && user.role !== 'Applicant' ? (\n\t\t\t\t\t\t<Link to={`${window.location.pathname}/edit`} className='btn btn-warning btn-sm align-self-center ml-auto'>\n\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{user && user.role !== 'Applicant' ? (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={`${window.location.pathname}/delete`}\n\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm align-self-center ml-1'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t$('#deleteRequestModal').modal('show');\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12' id='request-card'>\n\t\t\t\t\t{request ? (\n\t\t\t\t\t\t<div className='card shadow rounded'>\n\t\t\t\t\t\t\t<div className='card-header'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-success btn-sm`}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\texportToPDF();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<i className='fas fa-print'></i> Export to PDF\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<p className='card-title'>Requester's Name: {request.user!.name}</p>\n\t\t\t\t\t\t\t\t<p className='card-title'>Date: {dayjs(request.updated_at).format('MMMM DD, YYYY hh:mm A')}</p>\n\t\t\t\t\t\t\t\t<p className='card-text'>Document Type: {request.documentType!.name}</p>\n\t\t\t\t\t\t\t\t{request.user?.student_id_number ? (\n\t\t\t\t\t\t\t\t\t<p className='card-text'>Student ID Number: {request.user.student_id_number}</p>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<p className='card-text'>\n\t\t\t\t\t\t\t\t\tLast Updated By:{' '}\n\t\t\t\t\t\t\t\t\t{request.logs &&\n\t\t\t\t\t\t\t\t\trequest.logs.length > 0 &&\n\t\t\t\t\t\t\t\t\trequest.logs[request.logs.length - 1].user.role !== 'Applicant'\n\t\t\t\t\t\t\t\t\t\t? `${request.logs[request.logs.length - 1].user.name} - ${dayjs(\n\t\t\t\t\t\t\t\t\t\t\t\trequest.logs[request.logs.length - 1].created_at\n\t\t\t\t\t\t\t\t\t\t  ).format('MMMM DD, YYYY')}`\n\t\t\t\t\t\t\t\t\t\t: 'N/A'}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className='card-text mb-2'>Status: {request.status}</p>\n\t\t\t\t\t\t\t\t<ul className='list-group'>\n\t\t\t\t\t\t\t\t\t{(({ level, statuses }) => {\n\t\t\t\t\t\t\t\t\t\treturn statuses.map((status, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li className='list-group-item' key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t{level !== 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tfindDate(status) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle-fill mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : level >= index + 1 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-circle mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-x-circle-fill mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t{status}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{findDate(status)\n\t\t\t\t\t\t\t\t\t\t\t\t\t? `- ${dayjs(findDate(status)?.date).format('MMMM DD, YYYY hh:mm A')}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t\t\t\t\t\t\t{request.tasks ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className='list-group mt-2'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{request.tasks\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter((task) => task.for === status)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((task, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='list-group-item' key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.done ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle-fill mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-circle mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t));\n\t\t\t\t\t\t\t\t\t})(makeStatuses(request.status))}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<div className='card w-100 mx-1 my-4 shadow rounded'>\n\t\t\t\t\t\t\t\t\t<div className='card-header'>\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>History</h4>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='card-body table-responsive' style={{ overflowY: 'hidden' }}>\n\t\t\t\t\t\t\t\t\t\t<table className='table table-sm text-center'>\n\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>User</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Action</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Date</th>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t{request.logs!.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>No Data</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t{request.logs!.map((log, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{log.user.name}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{log.action}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{dayjs(log.updated_at).format('MMMM DD, YYYY hh:mm A')}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{request.evaluation !== null ? null : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<hr className='my-2' />\n\t\t\t\t\t\t\t\t\t\t<h6>Leave a Feedback</h6>\n\t\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\t\tcols={30}\n\t\t\t\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetFeedback(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tvalue={feedback}></textarea>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\tsendFeedback();\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\tSend\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{request.approved ? (\n\t\t\t\t\t\t\t\trequest.expired ? (\n\t\t\t\t\t\t\t\t\t<div className='card-footer pb-5'>\n\t\t\t\t\t\t\t\t\t\t<span className='btn btn-danger btn-sm font-weight-bold'>\n\t\t\t\t\t\t\t\t\t\t\tThis request has expired. Please request this document again.\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className='card-footer'>\n\t\t\t\t\t\t\t\t\t\t{request.file ? (\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref={`${request.file.url}&download=true`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-success btn-sm'\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\trel='noreferrer'>\n\t\t\t\t\t\t\t\t\t\t\t\tDownload Document\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<span>The request is approved but there is no attached document yet.</span>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName='modal fade'\n\t\t\t\tid={`deleteRequestModal`}\n\t\t\t\ttabIndex={-1}\n\t\t\t\trole='dialog'\n\t\t\t\taria-labelledby={`deleteRequestModalLabel`}\n\t\t\t\taria-hidden='true'>\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\n\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteRequestModalLabel`}>\n\t\t\t\t\t\t\t\tDelete Request\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-body'>Are you sure you want to delete this request?</div>\n\t\t\t\t\t\t<div className='modal-footer'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t$('#deleteRequestModal').modal('hide');\n\t\t\t\t\t\t\t\t\tdeleteRequest();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tConfirm\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<iframe title='Print Page' id='iframe' className='d-none'></iframe>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { Form } from './Form';\nimport { List } from './List';\nimport { View } from './View';\n\nexport function Requests() {\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path={url('/')} exact component={List} />\n\t\t\t<Route path={url('/add')} component={Form} />\n\t\t\t<Route path={url('/:id')} component={View} />\n\t\t</Switch>\n\t);\n}\n","import React from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { routes } from '../../routes';\nimport { Requests } from './Request';\n\nexport function Applicant() {\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path={url(routes.REQUESTS.ROOT)} component={Requests} />\n\t\t</Switch>\n\t);\n}\n","import React from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport { outIf } from '../../helpers';\nimport { routes } from '../../routes';\n\nexport function ApplicantSidebar() {\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\tconst links = [\n\t\t{\n\t\t\turl: routes.DASHBOARD,\n\t\t\ticon: 'nc-icon nc-bank',\n\t\t\ttitle: 'Dashboard',\n\t\t},\n\t\t{\n\t\t\turl: url(routes.REQUESTS.ROOT),\n\t\t\ticon: 'nc-icon nc-tag-content',\n\t\t\ttitle: 'Requests',\n\t\t},\n\t];\n\n\treturn (\n\t\t<div className='sidebar-wrapper' style={{ overflowX: 'hidden' }}>\n\t\t\t<ul className='nav'>\n\t\t\t\t{links.map((link, index) => (\n\t\t\t\t\t<li className={outIf(link.url === window.location.pathname, 'active')} key={index}>\n\t\t\t\t\t\t<Link to={link.url}>\n\t\t\t\t\t\t\t<i className={link.icon}></i>\n\t\t\t\t\t\t\t<p>{link.title}</p>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Link, useHistory, Route, useRouteMatch } from 'react-router-dom';\nimport { User } from '../contracts/User';\nimport { orEqual } from '../helpers';\nimport { routes } from '../routes';\nimport state from '../state';\nimport { Admin } from './Admin';\nimport { AdminSidebar } from './Admin/Sidebar';\nimport { Cashier } from './Cashier';\nimport { CashierSidebar } from './Cashier/Sidebar';\nimport { Profile } from './Profile';\nimport { Footer } from './Shared/Footer';\nimport { Header } from './Shared/Header';\nimport { Applicant } from './Student';\nimport { ApplicantSidebar } from './Student/Sidebar';\n\nexport function Dashboard() {\n\tconst history = useHistory();\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\tif ((!state.has('logged') && !state.get('logged')) || state.get('user') === undefined) {\n\t\thistory.push(routes.LOGIN);\n\t\treturn null;\n\t}\n\n\tconst user = state.get<User>('user');\n\n\treturn (\n\t\t<div className='wrapper bg-yellow'>\n\t\t\t<div className='sidebar bg-maroon' data-color='white' data-active-color='danger'>\n\t\t\t\t<div className='logo bg-maroon'>\n\t\t\t\t\t<Link to={routes.DASHBOARD} className='simple-text logo-mini'>\n\t\t\t\t\t\t<img src='/assets/manifest-icon-512.png' alt='Logo' className='rounded-circle' />\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to={routes.DASHBOARD} className='logo-normal text-warning bg-maroon'>\n\t\t\t\t\t\t<h5>PUPBBDMS</h5>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t{user.role === 'Admin' ? <AdminSidebar /> : null}\n\t\t\t\t{orEqual(user.role, ['Processing', 'Cashier', 'Evaluation', 'Signing', 'Releasing', 'Director', 'Registrar']) ? (\n\t\t\t\t\t<CashierSidebar />\n\t\t\t\t) : null}\n\t\t\t\t{user.role === 'Applicant' ? <ApplicantSidebar /> : null}\n\t\t\t</div>\n\t\t\t<div className='main-panel h-100 bg-yellow'>\n\t\t\t\t<Header />\n\t\t\t\t<div className='content bg-yellow'>\n\t\t\t\t\t<Route path={url(routes.PROFILE)} exact component={Profile} />\n\t\t\t\t\t{user.role === 'Admin' ? <Admin /> : null}\n\t\t\t\t\t{orEqual(user.role, ['Processing', 'Cashier', 'Evaluation', 'Signing', 'Releasing', 'Director', 'Registrar']) ? (\n\t\t\t\t\t\t<Cashier />\n\t\t\t\t\t) : null}\n\t\t\t\t\t{user.role === 'Applicant' ? <Applicant /> : null}\n\t\t\t\t</div>\n\t\t\t\t<Footer />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { CMS } from '../../contracts/CMS';\n\ntype Props = {\n\tcms: Array<CMS>;\n};\n\nexport function AboutUs(props: Props) {\n\tconst find = (key: string, defaultValue: string) => {\n\t\tconst cms = props.cms.find((cms) => cms.key === key);\n\t\tif (cms) {\n\t\t\treturn cms.value;\n\t\t}\n\t\treturn defaultValue;\n\t};\n\n\treturn (\n\t\t<div className='section section-dark text-center'>\n\t\t\t<div className='container'>\n\t\t\t\t<h2 className='title'>{find('about-us-title', \"Let's talk about us\")}</h2>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className='col-md-4'>\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\n\t\t\t\t\t\t\t\t<a href='#avatar'>\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-1-picture', '/assets/img/prof.png')} alt='...' />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\n\t\t\t\t\t\t\t\t\t<div className='author'>\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-1-name', 'Staff')}</h4>\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-1-position', 'Staff Position')}</h6>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\n\t\t\t\t\t\t\t\t\t{find(\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-1-description',\n\t\t\t\t\t\t\t\t\t\t'Description'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col-md-4'>\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\n\t\t\t\t\t\t\t\t<a href='#avatar'>\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-2-picture', '/assets/img/prof.png')} alt='...' />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\n\t\t\t\t\t\t\t\t\t<div className='author'>\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-2-name', 'Staff')}</h4>\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-2-position', 'Staff Position')}</h6>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\n\t\t\t\t\t\t\t\t\t{find(\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-2-description',\n\t\t\t\t\t\t\t\t\t\t'Description'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col-md-4'>\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\n\t\t\t\t\t\t\t\t<a href='#avatar'>\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-3-picture', '/assets/img/prof.png')} alt='...' />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\n\t\t\t\t\t\t\t\t\t<div className='author'>\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-3-name', 'Staff')}</h4>\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-3-position', 'Staff Position')}</h6>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\n\t\t\t\t\t\t\t\t\t{find(\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-3-description',\n\t\t\t\t\t\t\t\t\t\t'Descrption'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col-md-4'>\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\n\t\t\t\t\t\t\t\t<a href='#avatar'>\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-4-picture', '/assets/img/prof.png')} alt='...' />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\n\t\t\t\t\t\t\t\t\t<div className='author'>\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-4-name', 'Staff')}</h4>\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-4-position', 'Staff Position')}</h6>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\n\t\t\t\t\t\t\t\t\t{find(\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-4-description',\n\t\t\t\t\t\t\t\t\t\t'Description'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col-md-4'>\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\n\t\t\t\t\t\t\t\t<a href='#avatar'>\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-5-picture', '/assets/img/prof.png')} alt='...' />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\n\t\t\t\t\t\t\t\t\t<div className='author'>\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-5-name', 'Staff')}</h4>\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-5-position', 'Staff Position')}</h6>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\n\t\t\t\t\t\t\t\t\t{find(\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-5-description',\n\t\t\t\t\t\t\t\t\t\t'Description'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col-md-4'>\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\n\t\t\t\t\t\t\t\t<a href='#avatar'>\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-6-picture', '/assets/img/prof.png')} alt='...' />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\n\t\t\t\t\t\t\t\t\t<div className='author'>\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-6-name', 'Staff')}</h4>\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-6-position', 'Staff Position')}</h6>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\n\t\t\t\t\t\t\t\t\t{find(\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-6-description',\n\t\t\t\t\t\t\t\t\t\t'Description'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { FC } from 'react';\n\ntype Props = {};\n\nconst Carousel: FC<Props> = (props) => {\n\tconst id = Math.random().toString(36).substring(2, 15);\n\n\treturn (\n\t\t<div className='container mb-4'>\n\t\t\t<div id={id} className='carousel slide' data-ride='carousel'>\n\t\t\t\t<div className='carousel-inner'>\n\t\t\t\t\t<div className='carousel-item active'>\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login1.png' alt='First slide' />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='carousel-item'>\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login2.png' alt='Second slide' />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='carousel-item'>\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login3.png' alt='Third slide' />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='carousel-item'>\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login4.png' alt='Fourth slide' />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='carousel-item'>\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login5.png' alt='Fifth slide' />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<a className='carousel-control-prev' href={`#${id}`} role='button' data-slide='prev'>\n\t\t\t\t\t<span className='carousel-control-prev-icon' aria-hidden='true'></span>\n\t\t\t\t\t<span className='sr-only'>Previous</span>\n\t\t\t\t</a>\n\t\t\t\t<a className='carousel-control-next' href={`#${id}`} role='button' data-slide='next'>\n\t\t\t\t\t<span className='carousel-control-next-icon' aria-hidden='true'></span>\n\t\t\t\t\t<span className='sr-only'>Next</span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Carousel;\n","import axios from 'axios';\nimport React, { useState } from 'react';\nimport { outIf } from '../../helpers';\nimport toastr from 'toastr';\n\nexport function ContactUs() {\n\tconst [data, setData] = useState({\n\t\tname: '',\n\t\temail: '',\n\t\tmessage: '',\n\t});\n\tconst [processing, setProcessing] = useState(false);\n\n\tconst submit = async () => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tawait axios.post('/contacts', data);\n\t\t\tsetData({\n\t\t\t\tname: '',\n\t\t\t\temail: '',\n\t\t\t\tmessage: '',\n\t\t\t});\n\t\t\ttoastr.info('Message has been sent.', 'Notice');\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to send message', 'Oops!');\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className='section landing-section'>\n\t\t\t<div className='container'>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className='col-md-8 ml-auto mr-auto'>\n\t\t\t\t\t\t<h2 className='text-center'>Keep in touch?</h2>\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tclassName='contact-form'\n\t\t\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tsubmit();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div className='col-md-6'>\n\t\t\t\t\t\t\t\t\t<label>Name</label>\n\t\t\t\t\t\t\t\t\t<div className='input-group'>\n\t\t\t\t\t\t\t\t\t\t<div className='input-group-prepend'>\n\t\t\t\t\t\t\t\t\t\t\t<span className='input-group-text'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-single-02'></i>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Name'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col-md-6'>\n\t\t\t\t\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t\t\t\t\t<div className='input-group'>\n\t\t\t\t\t\t\t\t\t\t<div className='input-group-prepend'>\n\t\t\t\t\t\t\t\t\t\t\t<span className='input-group-text'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-email-85'></i>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t\t\t\t\t\temail: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<label>Message</label>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tclassName={`form-control ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t\t\tmessage: e.target.value,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\tplaceholder='Tell us your thoughts and feelings...'></textarea>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div className='col-md-4 ml-auto mr-auto text-center'>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-danger btn-lg btn-fill ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\t\tdisabled={processing}>\n\t\t\t\t\t\t\t\t\t\t{processing ? 'Sending' : 'Send Message'}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className='col-12 col-md-6 offset-md-3 pt-5 text-center'>\n\t\t\t\t\t\t<a href='/' onClick={(e) => e.preventDefault()}>\n\t\t\t\t\t\t\t<i className='fab fa-facebook fa-2x mx-2'></i>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a href='/' onClick={(e) => e.preventDefault()}>\n\t\t\t\t\t\t\t<i className='fab fa-twitter fa-2x mx-2'></i>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a href='/' onClick={(e) => e.preventDefault()}>\n\t\t\t\t\t\t\t<i className='fab fa-youtube fa-2x mx-2'></i>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a href='/' onClick={(e) => e.preventDefault()}>\n\t\t\t\t\t\t\t<i className='fab fa-linkedin fa-2x mx-2'></i>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col-12 col-md-6 offset-md-3 pt-5'>\n\t\t\t\t\t\t<h6>Contact Us</h6>\n\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t<div className='col-3'>\n\t\t\t\t\t\t\t\t<b>PHONE</b>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='col-9'>091234567890</div>\n\t\t\t\t\t\t\t<div className='col-3'>\n\t\t\t\t\t\t\t\t<b>EMAIL</b>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='col-9'>email@pup.com</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { CMS } from '../../contracts/CMS';\n\ntype Props = {\n\tcms: Array<CMS>;\n};\n\nexport function Description(props: Props) {\n\tconst find = (key: string, defaultValue: string) => {\n\t\tconst cms = props.cms.find((cms) => cms.key === key);\n\t\tif (cms) {\n\t\t\treturn cms.value;\n\t\t}\n\t\treturn defaultValue;\n\t};\n\n\treturn (\n\t\t<div className='section text-center'>\n\t\t\t<div className='container'>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className='col-md-8 ml-auto mr-auto'>\n\t\t\t\t\t\t<h2 className='title'>{find('description-title', \"\")}</h2>\n\t\t\t\t\t\t<h5 className='description text-dark'>\n\t\t\t\t\t\t\t{find(\n\t\t\t\t\t\t\t\t'description-paragraph',\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<div className='row text-dark'>\n\t\t\t\t\t<div className='col-md-3'>\n\t\t\t\t\t\t<div className='info'>\n\t\t\t\t\t\t\t<div className={`icon icon-danger`}>\n\t\t\t\t\t\t\t\t<i className=''></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='description'>\n\t\t\t\t\t\t\t\t<h4 className='info-title'>{find('description-card-1-title', 'Beautiful Gallery')}</h4>\n\t\t\t\t\t\t\t\t<p className='description'>\n\t\t\t\t\t\t\t\t\t{find(\n\t\t\t\t\t\t\t\t\t\t'description-card-1-description',\n\t\t\t\t\t\t\t\t\t\t\"Spend your time generating new ideas. You don't have to think of implementing.\"\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col-md-3'>\n\t\t\t\t\t\t<div className='info'>\n\t\t\t\t\t\t\t<div className={`icon icon-danger`}>\n\t\t\t\t\t\t\t\t<i className=''></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='description'>\n\t\t\t\t\t\t\t\t<h4 className='info-title'>{find('description-card-2-title', 'New Ideas')}</h4>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{find(\n\t\t\t\t\t\t\t\t\t\t'description-card-2-description',\n\t\t\t\t\t\t\t\t\t\t'Larger, yet dramatically thinner. More powerful, but remarkably power efficient.'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col-md-3'>\n\t\t\t\t\t\t<div className='info'>\n\t\t\t\t\t\t\t<div className={`icon icon-danger`}>\n\t\t\t\t\t\t\t\t<i className=''></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='description'>\n\t\t\t\t\t\t\t\t<h4 className='info-title'>{find('description-card-3-title', 'Statistics')}</h4>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{find(\n\t\t\t\t\t\t\t\t\t\t'description-card-3-description',\n\t\t\t\t\t\t\t\t\t\t'Choose from a veriety of many colors resembling sugar paper pastels.'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col-md-3'>\n\t\t\t\t\t\t<div className='info'>\n\t\t\t\t\t\t\t<div className={`icon icon-danger`}>\n\t\t\t\t\t\t\t\t<i className=''></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='description'>\n\t\t\t\t\t\t\t\t<h4 className='info-title'>{find('description-card-4-title', 'Delightful design')}</h4>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{find(\n\t\t\t\t\t\t\t\t\t\t'description-card-4-description',\n\t\t\t\t\t\t\t\t\t\t'Find unique and handmade delightful designs related items directly from our sellers'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { FC, useState } from 'react';\n\ntype Props = {\n\tanswer: string;\n};\n\nconst Item: FC<Props> = ({ answer }) => {\n\tconst [show, setShow] = useState(false);\n\n\treturn (\n\t\t<div className='card-body' >\n\t\t\t{show ? <p className='card-text' style={{textAlign: 'justify'}}>{answer}</p> : null}\n\t\t\t<a\n\t\t\t\thref='/'\n\t\t\t\tclassName='text-info font-weight-bold'\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsetShow(!show);\n\t\t\t\t}}>\n\t\t\t\t{show ? 'Hide' : 'Show'}\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n\nexport default Item;\n","import React from 'react';\nimport { CMS } from '../../contracts/CMS';\nimport Item from './FAQ/Item';\n\ntype Props = {\n\tcms: Array<CMS>;\n};\n\nexport function FAQs(props: Props) {\n\tconst find = (key: string, defaultValue: string) => {\n\t\tconst cms = props.cms.find((cms) => cms.key === key);\n\t\tif (cms) {\n\t\t\treturn cms.value;\n\t\t}\n\t\treturn defaultValue;\n\t};\n\n\tconst faqs = JSON.parse(find('faqs', JSON.stringify([]))) as Array<FAQ>;\n\n\tconst chunks: Array<Array<FAQ>> = [[]];\n\n\tfaqs.forEach((faq) => {\n\t\tconst last = chunks[chunks.length - 1];\n\t\tif (last.length < 2) {\n\t\t\tlast.push(faq);\n\t\t\tchunks.splice(chunks.length - 1, 1, last);\n\t\t} else {\n\t\t\tchunks.push([faq]);\n\t\t}\n\t});\n\n\treturn (\n\t\t<div className='section landing-section'>\n\t\t\t<div className='container'>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className='col-md-8 mx-auto justify-content-center'>\n\t\t\t\t\t\t<h2 className='col-md-8 ml-auto mr-auto text-center justify-content-center'><b>FAQs</b></h2>\n\t\t\t\t\t\t{chunks.map((faqs, index) => (\n\t\t\t\t\t\t\t<div className='card-group' key={index}>\n\t\t\t\t\t\t\t\t{faqs.map((faq, index) => (\n\t\t\t\t\t\t\t\t\t<div className='card m-1 border-0 shadow rounded' key={index}>\n\t\t\t\t\t\t\t\t\t\t<div className='card-header d-flex'>\n\t\t\t\t\t\t\t\t\t\t\t<h3 className='card-title mb-0 align-self-center' style={{ color: '#000' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{faq.question}</b>\n\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<Item answer={faq.answer} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { CMS } from '../../contracts/CMS';\nimport { routes } from '../../routes';\n\ntype Props = {\n\tcms: Array<CMS>;\n};\n\nexport function Header(props: Props) {\n\tconst history = useHistory();\n\tconst url = new URLSearchParams(history.location.search);\n\tconst isPreview = url.get('preview') === 'true';\n\tconst find = (key: string, defaultValue: string) => {\n\t\tconst cms = props.cms.find((cms) => cms.key === key);\n\t\tif (cms) {\n\t\t\treturn cms.value;\n\t\t}\n\t\treturn defaultValue;\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName='page-header'\n\t\t\tstyle={{\n\t\t\t\tbackgroundImage: `url(${find('header-picture', '/assets/img/pup.jpg')})`,\n\t\t\t\tbackgroundPosition: '50%',\n\t\t\t\tbackgroundSize: 'cover',\n\t\t\t\tminHeight: '100vh',\n\t\t\t\tmaxHeight: '999px',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tposition: 'relative',\n\t\t\t\twidth: '100%',\n\t\t\t\tzIndex: 1,\n\t\t\t\tdisplay: 'flex',\n\t\t\t\talignItems: 'center',\n\t\t\t\tjustifyContent: 'center',\n\t\t\t}}>\n\t\t\t<div className='filter'></div>\n\t\t\t<div className='container'>\n\t\t\t\t<div className='text-center' style={{ color: '#fff', zIndex: 3, position: 'relative' }}>\n\t\t\t\t\t<h1>{find('header-title', 'Welcome to PBBDTM')}</h1>\n\t\t\t\t\t<h3>{find('header-description', 'PUP Bansud Branch Documents Monitoring System')}</h3>\n\t\t\t\t\t<br />\n\t\t\t\t\t{!isPreview ? (\n\t\t\t\t\t\t<Link to={routes.REGISTER} className={`btn btn-outline-neutral btn-round`}>\n\t\t\t\t\t\t\t<i className='fa fa-play'></i> Get Started\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<a href={routes.REGISTER} className={`btn btn-outline-neutral btn-round`} onClick={(e) => e.preventDefault()}>\n\t\t\t\t\t\t\t<i className='fa fa-play'></i> Get Started\n\t\t\t\t\t\t</a>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { routes } from '../../routes';\nimport state from '../../state';\n\nexport function Nav() {\n\tconst history = useHistory();\n\tconst url = new URLSearchParams(history.location.search);\n\n\tconst logged = () => {\n\t\treturn state.get('logged') && state.get('user');\n\t};\n\n\tconst isPreview = url.get('preview') === 'true';\n\n\treturn (\n\t\t<nav className='navbar navbar-expand-lg fixed-top navbar-transparent border-0' color-on-scroll='300'>\n\t\t\t<div className='container'>\n\t\t\t\t<div className='navbar-translate'>\n\t\t\t\t\t<Link className='navbar-brand' to='/' title='PBBDTM' data-placement='bottom'>\n\t\t\t\t\t\tPBBDMS\n\t\t\t\t\t</Link>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='navbar-toggler navbar-toggler'\n\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\tdata-toggle='collapse'\n\t\t\t\t\t\tdata-target='#navigation'\n\t\t\t\t\t\taria-controls='navigation-index'\n\t\t\t\t\t\taria-expanded='false'\n\t\t\t\t\t\taria-label='Toggle navigation'>\n\t\t\t\t\t\t<span className='navbar-toggler-bar bar1'></span>\n\t\t\t\t\t\t<span className='navbar-toggler-bar bar2'></span>\n\t\t\t\t\t\t<span className='navbar-toggler-bar bar3'></span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t{!isPreview ? (\n\t\t\t\t\t<div className='collapse navbar-collapse justify-content-end' id='navigation'>\n\t\t\t\t\t\t<ul className='navbar-nav'>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<Link to={routes.TRACK_REQUEST} className='nav-link'>\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-bag-16 mr-1'></i>\n\t\t\t\t\t\t\t\t\tTrack Request\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{!logged() ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<Link to={routes.LOGIN} className='nav-link'>\n\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-layout-11 mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<Link to={routes.REGISTER} className='nav-link'>\n\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-book-bookmark mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t<Link to={routes.DASHBOARD} className='nav-link'>\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-bank mr-1'></i>\n\t\t\t\t\t\t\t\t\t\tDashboard\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className='collapse navbar-collapse justify-content-end' id='navigation'>\n\t\t\t\t\t\t<ul className='navbar-nav'>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<a href={routes.TRACK_REQUEST} className='nav-link' onClick={(e) => e.preventDefault()}>\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-bag-16 mr-1'></i>\n\t\t\t\t\t\t\t\t\tTrack Request\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{!logged() ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<a href={routes.LOGIN} className='nav-link' onClick={(e) => e.preventDefault()}>\n\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-layout-11 mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<a href={routes.REGISTER} className='nav-link' onClick={(e) => e.preventDefault()}>\n\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-book-bookmark mr-1'></i>\n\t\t\t\t\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t<a href={routes.DASHBOARD} className='nav-link' onClick={(e) => e.preventDefault()}>\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-bank mr-1'></i>\n\t\t\t\t\t\t\t\t\t\tDashboard\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</nav>\n\t);\n}\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { CMS } from '../../contracts/CMS';\nimport { outIf } from '../../helpers';\nimport { Stats } from '../Admin/Stats';\nimport { AboutUs } from './AboutUs';\nimport Carousel from './Carousel';\nimport { ContactUs } from './ContactUs';\nimport { Description } from './Description';\nimport { FAQs } from './FAQs';\nimport { Header } from './Header';\nimport { Nav } from './Nav';\n\nexport function Landing() {\n\tconst [loaded, setLoaded] = useState(false);\n\tconst [cms, setCMS] = useState<Array<CMS>>([]);\n\n\tconst fetchCMS = async () => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Array<CMS>>('/cms');\n\t\t\tsetCMS([...data]);\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t} finally {\n\t\t\tsetLoaded(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchCMS();\n\t\t$('body').css('background-color', '#fff');\n\t\tconst link = $('#dashboard-styles').attr('href');\n\t\t// $('#dashboard-styles').remove();\n\t\t$('head').append(\n\t\t\t`<link rel=\"stylesheet\" href=\"https://demos.creative-tim.com/paper-kit-2/assets/css/paper-kit.min.css?v=2.2.0\" id=\"landing-styles\" />`\n\t\t);\n\t\t$('head').append(\n\t\t\t`<script src=\"https://demos.creative-tim.com/paper-kit-2/assets/js/paper-kit.min.js?v=2.2.0\" id=\"landing-script\"></script>`\n\t\t);\n\n\t\treturn () => {\n\t\t\t$('body').css('background-color', '#f4f3ef');\n\t\t\t$('#landing-styles').remove();\n\t\t\t$('#landing-script').remove();\n\t\t\t$('head').append(`<link rel=\"stylesheet\" href=\"${link}\" />`);\n\t\t};\n\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<div className={`pb-5 ${outIf(!loaded, 'd-none')}`}>\n\t\t\t\t<Nav />\n\t\t\t\t<Header cms={cms} />\n\t\t\t\t<Description cms={cms} />\n\t\t\t\t<Carousel />\n\t\t\t\t<AboutUs cms={cms} />\n\t\t\t\t<ContactUs />\n\t\t\t\t<FAQs cms={cms} />\n\t\t\t\t<div className='container'>\n\t\t\t\t\t<h3 className='text-center mb-4'>Current Statistics</h3>\n\t\t\t\t\t<Stats />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{!loaded ? (\n\t\t\t\t<div className='h-100vh d-flex align-items-center justify-content-center'>\n\t\t\t\t\t<div className='container-fluid text-center'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc='/assets/manifest-icon-512.png'\n\t\t\t\t\t\t\talt='Logo'\n\t\t\t\t\t\t\tclassName='img-fluid rounded-circle'\n\t\t\t\t\t\t\tstyle={{ height: '200px', width: '200px' }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</>\n\t);\n}\n","import axios from 'axios';\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { User } from '../contracts/User';\nimport { handleError, outIf } from '../helpers';\nimport { routes } from '../routes';\nimport state from '../state';\nimport styles from '../styles/Login.module.css';\nimport toastr from 'toastr';\nimport dayjs from 'dayjs';\n\ntype Response = {\n\tuser: User;\n\ttoken: string;\n};\n\nexport function Login() {\n\tconst [data, setData] = useState({\n\t\temail: '',\n\t\tpassword: '',\n\t});\n\tconst [processing, setProcessing] = useState(false);\n\n\tconst history = useHistory();\n\n\tif (state.has('logged') && state.get<boolean>('logged') && state.get('user')) {\n\t\thistory.push(routes.DASHBOARD);\n\t}\n\n\tconst submit = async () => {\n\t\tif (data.password.length === 0) {\n\t\t\treturn toastr.error('Please provide a password.');\n\t\t}\n\n\t\tif (state.has('block')) {\n\t\t\tconst now = dayjs();\n\t\t\tconst block = dayjs(state.get<string>('block'));\n\t\t\tif (!block.isValid() || now.isAfter(block)) {\n\t\t\t\tstate.remove('block').remove('attempts');\n\t\t\t} else {\n\t\t\t\treturn toastr.error(`Maximum login attempts exceeded. Please wait for ${block.fromNow()} then try again.`, 'Oops!');\n\t\t\t}\n\t\t}\n\n\t\tsetProcessing(true);\n\n\t\ttry {\n\t\t\tconst response = await axios.post<Response>('/auth/login', data);\n\n\t\t\tconst { user, token } = response.data;\n\n\t\t\tstate.set('logged', true);\n\t\t\tstate.set('user', user);\n\t\t\tstate.set('token', token);\n\t\t\tstate.remove('block').remove('attempts');\n\n\t\t\thistory.push(routes.DASHBOARD);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\tconsole.log(error);\n\n\t\t\tconst attempts = (state.has('attempts') ? state.get<number>('attempts') : 0) + 1;\n\n\t\t\tif (attempts >= 3) {\n\t\t\t\tstate.set('block', dayjs().add(1, 'minutes').toJSON());\n\t\t\t\ttoastr.error('Login blocked. Please try again later.');\n\t\t\t} else {\n\t\t\t\tstate.set('attempts', attempts);\n\t\t\t\ttoastr.error(`Login attempts: ${attempts}`);\n\t\t\t}\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={`w-100 h-100vh d-flex bg-vgrad ${styles.body}`}>\n\t\t\t<div className='align-self-center mx-auto'>\n\t\t\t\t<div className={`card shadow ${styles.card}`}>\n\t\t\t\t\t<div className='card-header text-center'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc='/assets/manifest-icon-512.png'\n\t\t\t\t\t\t\talt='Logo'\n\t\t\t\t\t\t\tclassName='img-fluid hw-max-75 rounded-circle clickable'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\thistory.push(routes.ROOT);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<h2 className='card-title'>\n\t\t\t\t\t\t\t<Link to={routes.ROOT} style={{ textDecoration: 'none' }}>\n\t\t\t\t\t\t\t\tPUP Bansud Branch\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p className='card-text'>Documents Monitoring System</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tsubmit();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\t\tplaceholder='email@dtms.com'\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={data.email}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tdata.email = e.target.value;\n\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label htmlFor='password'>Password</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={data.password}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tdata.password = e.target.value;\n\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-sm btn-secondary ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}>\n\t\t\t\t\t\t\t\t\t{processing ? (\n\t\t\t\t\t\t\t\t\t\t<div className='spin'>\n\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t'Login'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group d-flex'>\n\t\t\t\t\t\t\t\t<div className='mr-auto'>\n\t\t\t\t\t\t\t\t\tDon't have an account?{' '}\n\t\t\t\t\t\t\t\t\t<Link to={routes.REGISTER} className='d-inline'>\n\t\t\t\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='ml-auto'>\n\t\t\t\t\t\t\t\t\t<Link to={routes.FORGOT_PASSWORD}>Forgot Password</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import axios from 'axios';\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { User } from '../contracts/User';\nimport { handleError, makeMask, outIf } from '../helpers';\nimport { routes } from '../routes';\nimport state from '../state';\nimport styles from '../styles/Login.module.css';\nimport toastr from 'toastr';\nimport InputMask from 'react-input-mask';\n\ntype Response = {\n\tuser: User;\n\ttoken: string;\n};\n\nexport function Register() {\n\tconst [data, _setData] = useState({\n\t\tname: '',\n\t\temail: '',\n\t\tphone: '09',\n\t\tpassword: '',\n\t\tpassword_confirmation: '',\n\t\ttype: 'Client',\n\t\tstudent_id_number: '',\n\t});\n\tconst [processing, setProcessing] = useState(false);\n\n\tconst setData = makeMask(_setData, (data: any) => ({ ...data }));\n\n\tconst history = useHistory();\n\n\tif (state.has('logged') && state.get<boolean>('logged')) {\n\t\thistory.push(routes.DASHBOARD);\n\t}\n\n\tconst submit = async () => {\n\t\tif (data.name.length === 0) {\n\t\t\treturn toastr.error('Please provide a name.');\n\t\t}\n\n\t\tif (data.password.length === 0) {\n\t\t\treturn toastr.error('Please provide a password.');\n\t\t}\n\n\t\tif (data.password !== data.password_confirmation) {\n\t\t\treturn toastr.error('Password and Confirm Password does not match.', 'Oops!');\n\t\t}\n\n\t\tif (data.type === 'Student') {\n\t\t\tif (!/\\d{4}-\\d{5}-[A-Z]{2}-\\d{1}/g.test(data.student_id_number)) {\n\t\t\t\treturn toastr.error('Student ID Number is not in correct format.');\n\t\t\t}\n\t\t\tconst year = data.student_id_number.split('-')[0];\n\t\t\tif (Number(year) >= new Date().getUTCFullYear()) {\n\t\t\t\treturn toastr.error('Student ID Number is invalid.');\n\t\t\t}\n\t\t}\n\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tconst response = await axios.post<Response>('/auth/register', data);\n\n\t\t\tconst { user, token } = response.data;\n\n\t\t\tstate.set('logged', true);\n\t\t\tstate.set('user', user);\n\t\t\tstate.set('token', token);\n\t\t\thistory.push(routes.DASHBOARD);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\tconsole.log(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={`w-100 h-100vh d-flex ${styles.body}`}>\n\t\t\t<div className='align-self-center mx-auto'>\n\t\t\t\t<div className={`card shadow ${styles.card}`}>\n\t\t\t\t\t<div className='card-header text-center'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc='/assets/manifest-icon-512.png'\n\t\t\t\t\t\t\talt='Logo'\n\t\t\t\t\t\t\tclassName='img-fluid hw-max-75 rounded-circle clickable'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\thistory.push(routes.ROOT);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<h2 className='card-title'>\n\t\t\t\t\t\t\t<Link to={routes.ROOT} style={{ textDecoration: 'none' }}>\n\t\t\t\t\t\t\tPUP Bansud Branch\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p className='card-text'>Documents Monitoring System</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tsubmit();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label htmlFor='name'>Name</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\tid='name'\n\t\t\t\t\t\t\t\t\tplaceholder='John Smith'\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={data.name}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tdata.name = e.target.value;\n\t\t\t\t\t\t\t\t\t\tsetData(data);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\t\tplaceholder='email@dtms.com'\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={data.email}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tdata.email = e.target.value;\n\t\t\t\t\t\t\t\t\t\tsetData(data);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label htmlFor='phone'>Phone</label>\n\t\t\t\t\t\t\t\t<InputMask\n\t\t\t\t\t\t\t\t\tmask='0\\9999999999'\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tname='phone'\n\t\t\t\t\t\t\t\t\tid='phone'\n\t\t\t\t\t\t\t\t\tplaceholder='639123456789'\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={data.phone}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tdata.phone = e.target.value;\n\t\t\t\t\t\t\t\t\t\tsetData(data);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label htmlFor='password'>Password</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={data.password}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tdata.password = e.target.value;\n\t\t\t\t\t\t\t\t\t\tsetData(data);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label htmlFor='password_confirmation'>Confirm Password</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\tname='password_confirmation'\n\t\t\t\t\t\t\t\t\tid='password_confirmation'\n\t\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={data.password_confirmation}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tdata.password_confirmation = e.target.value;\n\t\t\t\t\t\t\t\t\t\tsetData(data);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label htmlFor='Type'>Type</label>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname='type'\n\t\t\t\t\t\t\t\t\tid='type'\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={data.type}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tdata.type = e.target.value;\n\t\t\t\t\t\t\t\t\t\tsetData(data);\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<option value='Client'>Client</option>\n\t\t\t\t\t\t\t\t\t<option value='Student'>Student</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{data.type === 'Student' ? (\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<label htmlFor='student_id_number'>Student ID Number:</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tname='student_id_number'\n\t\t\t\t\t\t\t\t\t\tid='student_id_number'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Student ID Number'\n\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t\tvalue={data.student_id_number}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tdata.student_id_number = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\tsetData(data);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<small className='form-text text-muted'>Ex: 2020-00001-BS-0</small>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-sm btn-secondary ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}>\n\t\t\t\t\t\t\t\t\t{processing ? (\n\t\t\t\t\t\t\t\t\t\t<div className='spin'>\n\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t'Register'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\tAlready have an account?{' '}\n\t\t\t\t\t\t\t\t<Link to={routes.LOGIN} className='d-inline'>\n\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { FC, useEffect } from 'react';\nimport { TrackRequest } from '../TrackRequest';\nimport { Nav } from './Nav';\n\ntype Props = {};\n\nconst Track: FC<Props> = (props) => {\n\tuseEffect(() => {\n\t\t$('body').css('background-color', '#fff');\n\t\tconst link = $('#dashboard-styles').attr('href');\n\t\t$('#dashboard-styles').remove();\n\t\t$('head').append(\n\t\t\t`<link rel=\"stylesheet\" href=\"https://demos.creative-tim.com/paper-kit-2/assets/css/paper-kit.min.css?v=2.2.0\" id=\"landing-styles\" />`\n\t\t);\n\t\t$('head').append(\n\t\t\t`<script src=\"https://demos.creative-tim.com/paper-kit-2/assets/js/paper-kit.min.js?v=2.2.0\" id=\"landing-script\"></script>`\n\t\t);\n\n\t\treturn () => {\n\t\t\t$('body').css('background-color', '#f4f3ef');\n\t\t\t$('#landing-styles').remove();\n\t\t\t$('#landing-script').remove();\n\t\t\t$('head').append(`<link rel=\"stylesheet\" href=\"${link}\" />`);\n\t\t};\n\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='pb-5'>\n\t\t\t<Nav />\n\t\t\t<div\n\t\t\t\tclassName='page-header'\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundImage: 'url(/assets/img/pup.jpg)',\n\t\t\t\t\tbackgroundPosition: '50%',\n\t\t\t\t\tbackgroundSize: 'cover',\n\t\t\t\t\tminHeight: '100vh',\n\t\t\t\t\tmaxHeight: '999px',\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tzIndex: 1,\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t}}>\n\t\t\t\t<div className='filter'></div>\n\t\t\t\t<div className='container d-flex'>\n\t\t\t\t\t<TrackRequest className='d-inline mx-auto' />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Track;\n","import axios from 'axios';\nimport React, { FC, useState } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport { handleError, outIf } from '../helpers';\nimport { routes } from '../routes';\nimport state from '../state';\nimport styles from '../styles/Login.module.css';\nimport toastr from 'toastr';\n\ntype Props = {};\n\nconst ForgotPassword: FC<Props> = (props) => {\n\tconst [data, setData] = useState({\n\t\temail: '',\n\t});\n\tconst [processing, setProcessing] = useState(false);\n\n\tconst history = useHistory();\n\n\tif (state.has('logged') && state.get<boolean>('logged') && state.get('user')) {\n\t\thistory.push(routes.DASHBOARD);\n\t}\n\n\tconst submit = async () => {\n\t\tif (data.email.length === 0) {\n\t\t\treturn toastr.error('Please provide a email.');\n\t\t}\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tawait axios.post('/auth/forgot-password', data);\n\t\t\ttoastr.success('Email sent successfully. Please check your inbox.');\n\t\t\thistory.push(routes.ROOT);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\tconsole.log(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={`w-100 h-100vh d-flex bg-vgrad ${styles.body}`}>\n\t\t\t<div className='align-self-center mx-auto'>\n\t\t\t\t<div className={`card shadow ${styles.card}`}>\n\t\t\t\t\t<div className='card-header text-center'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc='/assets/manifest-icon-512.png'\n\t\t\t\t\t\t\talt='Logo'\n\t\t\t\t\t\t\tclassName='img-fluid hw-max-75 rounded-circle clickable'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\thistory.push(routes.ROOT);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<h2 className='card-title'>\n\t\t\t\t\t\t\t<Link to={routes.ROOT} style={{ textDecoration: 'none' }}>\n\t\t\t\t\t\t\t\tPUP Bansud Branch\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p className='card-text'>Documents Monitoring System</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tsubmit();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\t\tplaceholder='email@dtms.com'\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={data.email}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tdata.email = e.target.value;\n\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-sm btn-secondary ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}>\n\t\t\t\t\t\t\t\t\t{processing ? (\n\t\t\t\t\t\t\t\t\t\t<div className='spin'>\n\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t'Submit'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ForgotPassword;\n","import axios from 'axios';\nimport React, { FC, useState } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { handleError, outIf } from '../helpers';\nimport { routes } from '../routes';\nimport state from '../state';\nimport styles from '../styles/Login.module.css';\nimport toastr from 'toastr';\n\ntype Props = {};\n\nconst ResetPassword: FC<Props> = (props) => {\n\tconst [data, setData] = useState({\n\t\tpassword: '',\n\t\ttoken: useParams<{ token: string }>().token,\n\t});\n\tconst [processing, setProcessing] = useState(false);\n\n\tconst history = useHistory();\n\n\tif (state.has('logged') && state.get<boolean>('logged') && state.get('user')) {\n\t\thistory.push(routes.DASHBOARD);\n\t}\n\n\tconst submit = async () => {\n\t\tif (data.password.length === 0) {\n\t\t\treturn toastr.error('Please provide a password.');\n\t\t}\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tawait axios.post('/auth/reset-password', data);\n\t\t\ttoastr.success('Password changed successfully.');\n\t\t\thistory.push(routes.LOGIN);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\tconsole.log(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={`w-100 h-100vh d-flex bg-vgrad ${styles.body}`}>\n\t\t\t<div className='align-self-center mx-auto'>\n\t\t\t\t<div className={`card shadow ${styles.card}`}>\n\t\t\t\t\t<div className='card-header text-center'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc='/assets/manifest-icon-512.png'\n\t\t\t\t\t\t\talt='Logo'\n\t\t\t\t\t\t\tclassName='img-fluid hw-max-75 rounded-circle clickable'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\thistory.push(routes.ROOT);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<h2 className='card-title'>\n\t\t\t\t\t\t\t<Link to={routes.ROOT} style={{ textDecoration: 'none' }}>\n\t\t\t\t\t\t\t\tPUP Bansud Branch\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p className='card-text'>Documents Monitoring System</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tsubmit();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label htmlFor='email'>New Password</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\t\tplaceholder='New Password'\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={data.password}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tdata.password = e.target.value;\n\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-sm btn-secondary ${outIf(processing, 'disabled')}`}\n\t\t\t\t\t\t\t\t\tdisabled={processing}>\n\t\t\t\t\t\t\t\t\t{processing ? (\n\t\t\t\t\t\t\t\t\t\t<div className='spin'>\n\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t'Submit'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ResetPassword;\n","import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport { Dashboard } from './components/Dashboard';\nimport { Landing } from './components/Landing';\nimport { Login } from './components/Login';\nimport { Register } from './components/Register';\nimport { routes } from './routes';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport axios from 'axios';\nimport { User } from './contracts/User';\nimport state from './state';\nimport Track from './components/Landing/Track';\nimport { View } from './components/Student/Request/View';\nimport ForgotPassword from './components/ForgotPassword';\nimport ResetPassword from './components/ResetPassword';\n\nexport default function App() {\n\tconst verifyUser = async () => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get<User>('/self');\n\t\t\tstate.set('logged', true);\n\t\t\tstate.set('user', data);\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\tstate.remove('user').set('logged', false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tverifyUser();\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<Route path={routes.ROOT} exact component={Landing} />\n\t\t\t\t<Route path={routes.LOGIN} component={Login} />\n\t\t\t\t<Route path={routes.REGISTER} component={Register} />\n\t\t\t\t<Route path={routes.DASHBOARD} component={Dashboard} />\n\t\t\t\t<Route path={routes.TRACK_REQUEST} exact component={Track} />\n\t\t\t\t<Route path={`${routes.TRACK_REQUEST}/:id`} component={View} />\n\t\t\t\t<Route path={routes.FORGOT_PASSWORD} component={ForgotPassword} />\n\t\t\t\t<Route path={`${routes.RESET_PASSWORD}/:token`} component={ResetPassword} />\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// eslint-disable-next-line\nError.prototype.toJSON = function () {\n\tconst alt = {} as any;\n\n\tconst _this = this as any;\n\tObject.getOwnPropertyNames(_this).forEach(function (key) {\n\t\talt[key] = _this[key];\n\t}, _this);\n\n\tif ('stack' in alt) {\n\t\talt.stack = alt.stack\n\t\t\t.split(/\\r?\\n/)\n\t\t\t.map((string: string) => string.trim())\n\t\t\t.filter((_: any, i: number) => i !== 0);\n\t}\n\n\treturn alt;\n};\n\n// eslint-disable-next-line\nString.prototype.parseNumbers = function () {\n\tconst parts = this.split('.');\n\tif (parts.length > 1) {\n\t\tconst whole = (parts[0].match(/\\d/g) || []).join('');\n\t\tconst decimals = (parts[1].match(/\\d/g) || []).join('');\n\t\treturn Number(`${whole}.${decimals}`) || 0;\n\t}\n\tconst match = this.match(/\\d/g);\n\tif (!match) {\n\t\treturn 0;\n\t}\n\treturn Number(match.join('')) || 0;\n};\n\nexport {};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'toastr/build/toastr.css';\nimport axios from 'axios';\nimport state from './state';\nimport './shims';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\naxios.defaults.baseURL = process.env.REACT_APP_BACKEND_URL;\naxios.defaults.headers.common['Accept'] = 'application/json';\n\nif (state.has('token')) {\n\taxios.defaults.headers.common['Authorization'] = `Bearer ${state.get('token')}`;\n}\n\nstate.listen<string>('token', (token) => {\n\taxios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n});\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}